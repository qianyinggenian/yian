"use strict";(self["webpackChunkyian"]=self["webpackChunkyian"]||[]).push([[521],{93521:function(e,n,t){t.r(n),t.d(n,{default:function(){return y}});var i=function(){var e=this,n=e._self._c;return n("div",{staticClass:"container"},[n("ScrollableElMenu",{attrs:{menuItems:e.menuItems,activeIndex:e.activeIndex},on:{select:e.handleMenuSelect}})],1)},s=[],l=function(){var e=this,n=e._self._c;return n("div",{staticClass:"scrollable-menu-container"},[n("button",{directives:[{name:"show",rawName:"v-show",value:e.showLeftButton,expression:"showLeftButton"}],staticClass:"scroll-btn scroll-left",on:{click:e.scrollLeft}},[n("i",{staticClass:"el-icon-arrow-left"})]),n("div",{ref:"menuWrapper",staticClass:"menu-wrapper"},[n("el-menu",{class:e.menuClass,attrs:{"default-active":e.activeIndex,mode:"horizontal","unique-opened":"","menu-trigger":"hover"},on:{select:e.handleSelect}},[e._l(e.menuItems,(function(t){return[!t.children||t.children&&t.children.length<=0?n("el-menu-item",{key:t.id,staticClass:"first-menu",attrs:{index:t.id}},[n("span",[e._v(" "+e._s(t.name)+" ")])]):n("el-submenu",{key:`1-${t.id}`,staticClass:"first-submenu-menu",attrs:{index:t.id,"popper-class":"custom-menu-popper"},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" "+e._s(t.name)+" ")]},proxy:!0}],null,!0)},[n("MenuNode",{staticClass:"nest-menu",attrs:{activeIndex:e.activeIndex,"is-nest":!0,customClass:"second-menu",routes:t.children}})],1)]}))],2)],1),n("button",{directives:[{name:"show",rawName:"v-show",value:e.showRightButton,expression:"showRightButton"}],staticClass:"scroll-btn scroll-right",on:{click:e.scrollRight}},[n("i",{staticClass:"el-icon-arrow-right"})])])},a=[],o=function(){var e=this,n=e._self._c;return n("div",{staticClass:"menu-wrapper"},[e._l(e.routes,(function(t){return[!t.children||t.children&&t.children.length<=0?n("el-menu-item",{key:t.id,class:e.customClass,attrs:{index:t.id},scopedSlots:e._u([{key:"title",fn:function(){return[n("div",{staticClass:"ct-el-menu-content"},[e.isNext?e._e():n("div",{staticClass:"icon"},[t.svg?n("svg-icon",{attrs:{fill:"#0051FF",fontSize:40,iconClass:t.svg}}):n("svg-icon",{attrs:{fill:"#0051FF",fontSize:40,iconClass:"默认图标"}})],1),n("div",{staticClass:"label"},[e._v(e._s(t.name))])])]},proxy:!0}],null,!0)}):n("el-submenu",{key:`1-${t.id}`,class:e.customClass,attrs:{index:t.id},scopedSlots:e._u([{key:"title",fn:function(){return[n("div",{staticClass:"ct-el-submenu-content"},[e.isNext?e._e():n("div",{staticClass:"icon"},[t.svg?n("svg-icon",{attrs:{fill:"#0051FF",fontSize:40,iconClass:t.svg}}):n("svg-icon",{attrs:{fill:"#0051FF",fontSize:40,iconClass:"默认图标"}})],1),n("div",{staticClass:"label"},[e._v(" "+e._s(t.name))])])]},proxy:!0}],null,!0)},[n("menu-node",{staticClass:"nest-menu",attrs:{activeIndex:e.activeIndex,"is-next":!0,routes:t.children}})],1)]}))],2)},d=[],r={name:"MenuNode",components:{},props:{routes:{type:Array},isNext:{type:Boolean,default:!1},activeIndex:{type:String},isCollapse:{type:Boolean,default:!1},customClass:{type:String}},watch:{activeIndex:{handler(e){}}},methods:{hasActiveChild(e){let n=0;const t=e=>{for(const i of e.children)i.path===this.activeIndex?n=1:i.children&&t(i)};return t(e),n}}},c=r,m=t(81656),u=(0,m.A)(c,o,d,!1,null,"0e556db2",null),h=u.exports,x={name:"ScrollableElMenu",components:{MenuNode:h},props:{menuItems:{type:Array,required:!0},activeIndex:{type:String,default:""},menuClass:{type:String,default:""},scrollStep:{type:Number,default:200},animationDuration:{type:Number,default:300}},data(){return{scrollPosition:0,maxScroll:0,buttonWidth:32,expandedSubmenu:null}},computed:{showLeftButton(){return this.scrollPosition>0},showRightButton(){return this.scrollPosition<this.maxScroll},visibleWidth(){const e=this.$refs.menuWrapper;return e?e.clientWidth:0}},mounted(){this.$nextTick((()=>{this.updateScrollState(),window.addEventListener("resize",this.handleResize),this.$el.addEventListener("mouseenter",this.onMenuHover),this.$el.addEventListener("mouseleave",this.onMenuLeave)}))},beforeDestroy(){window.removeEventListener("resize",this.handleResize),this.$el.removeEventListener("mouseenter",this.onMenuHover),this.$el.removeEventListener("mouseleave",this.onMenuLeave)},watch:{menuItems:{handler(){this.$nextTick((()=>{this.updateScrollState()}))},deep:!0}},methods:{updateScrollState(){const e=this.$refs.menuWrapper;if(!e)return;const n=e.querySelector(".el-menu");if(!n)return;const t=n.lastElementChild;if(!t)return void(this.maxScroll=0);const i=t.offsetLeft+t.offsetWidth,s=this.visibleWidth-this.buttonWidth;this.maxScroll=Math.max(0,i-s),this.scrollPosition>this.maxScroll&&(this.scrollPosition=this.maxScroll,this.applyScrollPosition())},applyScrollPosition(){const e=this.$refs.menuWrapper;e&&this.smoothScrollTo(e,this.scrollPosition)},smoothScrollTo(e,n){const t=e.scrollLeft,i=n-t,s=this.animationDuration;let l=null;const a=e=>e<.5?2*e*e:(4-2*e)*e-1,o=n=>{l||(l=n);const d=n-l,r=Math.min(d/s,1),c=a(r);e.scrollLeft=t+i*c,r<1&&requestAnimationFrame(o)};requestAnimationFrame(o)},scrollLeft(){this.scrollPosition=Math.max(0,this.scrollPosition-this.scrollStep),this.applyScrollPosition()},scrollRight(){const e=this.$refs.menuWrapper,n=e.querySelector(".el-menu"),t=this.visibleWidth,i=e.scrollLeft,s=i+t;let l=null;for(let a=0;a<n.children.length;a++){const e=n.children[a],t=e.offsetLeft+e.offsetWidth;if(t>s){l=e;break}}if(l){const e=l.offsetLeft-(t-l.offsetWidth);this.scrollPosition=Math.min(this.maxScroll,e)}else this.scrollPosition=Math.min(this.maxScroll,this.scrollPosition+this.scrollStep);this.applyScrollPosition()},handleResize(){this.updateScrollState()},handleSelect(e,n){this.$emit("select",e,n)},onMenuHover(e){const n=e.target.closest(".el-submenu");n&&(this.expandedSubmenu=n,this.$nextTick((()=>this.updateScrollState())))},onMenuLeave(){this.expandedSubmenu=null,this.$nextTick((()=>this.updateScrollState()))}}},p=x,f=(0,m.A)(p,l,a,!1,null,"eacc2baa",null),v=f.exports,S={name:"index",components:{ScrollableElMenu:v},data(){return{activeIndex:"2-1-1-3",menuItems:[{index:"1",id:"1",name:"首页"},{index:"2",id:"2",name:"产品中心",children:[{index:"2-1",id:"2-1",name:"产品分类1",children:[{index:"2-1-1",id:"2-1-1",name:"产品分类2-1-1",children:[{index:"2-1-1-1",id:"2-1-1-1",name:"产品分类2-1-1-1"},{index:"2-1-1-2",id:"2-1-1-2",name:"产品分类2-1-1-2"},{index:"2-1-1-3",id:"2-1-1-3",name:"产品分类2-1-1-3"}]},{index:"2-1-2",id:"2-1-2",name:"产品分类2-1-2"},{index:"2-1-3",id:"2-1-3",name:"产品分类2-1-3"}]},{index:"2-2",id:"2-2",name:"产品分类2"},{index:"2-3",id:"2-3",name:"产品分类3"}]},{index:"3",id:"3",name:"解决方案",children:[{index:"3-1",id:"3-1",name:"方案一",children:[{index:"3-1-1",id:"3-1-1",name:"方案一3-1-1"},{index:"3-1-1",id:"3-1-2",name:"方案二3-1-2"},{index:"3-1-3",id:"3-1-3",name:"方案三3-1-3"}]},{index:"3-2",id:"3-2",name:"方案二"},{index:"3-3",id:"3-3",name:"方案三"}]},{index:"4",id:"4",name:"案例展示",children:[{index:"4-1",id:"4-1",name:"案例展示1"},{index:"4-2",id:"4-2",name:"案例展示2"},{index:"4-3",id:"4-3",name:"案例展示3"},{index:"4-4",id:"4-4",name:"案例展示4"}]},{index:"5",id:"5",name:"关于我们",children:[{index:"5-1",id:"5-1",name:"公司简介"},{index:"5-2",id:"5-2",name:"发展历程"},{index:"5-3",id:"5-3",name:"企业文化"},{index:"5-4",id:"5-4",name:"团队介绍"}]},{index:"6",id:"6",name:"联系我们6"},{index:"7",id:"7",name:"联系我们7"},{index:"8",id:"8",name:"联系我们8"},{index:"9",id:"9",name:"联系我们9"},{index:"10",id:"10",name:"联系我们10"},{index:"11",id:"11",name:"联系我们11"},{index:"12",id:"12",name:"联系我们12"},{index:"13",id:"13",name:"联系我们13"},{index:"14",id:"14",name:"联系我们14"},{index:"15",id:"15",name:"联系我们15"},{index:"16",id:"16",name:"联系我们16"},{index:"17",id:"17",name:"联系我们17"},{index:"18",id:"18",name:"联系我们18"},{index:"19",id:"19",name:"联系我们19"},{index:"20",id:"20",name:"联系我们20"},{index:"21",id:"21",name:"联系我们21"},{index:"22",id:"22",name:"联系我们22"},{index:"23",id:"23",name:"联系我们23"},{index:"24",id:"24",name:"联系我们24"},{index:"25",id:"25",name:"联系我们25"},{index:"26",id:"26",name:"联系我们26"},{index:"27",id:"27",name:"联系我们27"},{index:"28",id:"28",name:"联系我们28"},{index:"29",id:"29",name:"联系我们29"},{index:"30",id:"30",name:"联系我们30"},{index:"31",id:"31",name:"联系我们31"},{index:"32",id:"32",name:"联系我们32"},{index:"33",id:"33",name:"联系我们33"},{index:"34",id:"34",name:"联系我们34"},{index:"35",id:"35",name:"联系我们35"}]}},methods:{handleMenuSelect(e){this.activeIndex=e,console.log("index",e)}}},C=S,b=(0,m.A)(C,i,s,!1,null,"d49d2b46",null),y=b.exports}}]);
//# sourceMappingURL=521.71550c2d.js.map