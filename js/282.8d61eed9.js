"use strict";(self["webpackChunkyian"]=self["webpackChunkyian"]||[]).push([[282],{92484:function(t,r,e){e.r(r),e.d(r,{default:function(){return d}});var n=function(){var t=this,r=t._self._c;return r("div",{staticClass:"content"},[r("div",{staticClass:"imageBox",attrs:{id:"imageBox"}}),r("el-button",{staticStyle:{"margin-top":"10px",width:"100px"},attrs:{type:"primary"},on:{click:t.downFile}},[t._v("下 载")])],1)},o=[];e(44114),e(37467),e(44732),e(79577),e(26280),e(27913),e(47801),e(64979),e(14603),e(47566),e(98721);async function a(t){const r=document.createElement("img");r.src=t,r.setAttribute("crossOrigin","anonymous"),await new Promise((t=>r.onload=t));const e=document.createElement("canvas");return e.width=r.width,e.height=r.height,e.getContext("2d").drawImage(r,0,0),e}const i=({canvas:t,textArray:r,fontFamily:e="microsoft yahei",fontSize:n,fontcolor:o="#dadbdc",rotate:a=30,textAlign:i="left",density:c=2})=>{const u=t.getContext("2d"),f=t.width,s=t.height;u.font=`${n}px ${e}`,u.lineWidth=1,u.fillStyle=o,u.textAlign=i,u.textBaseline="middle";const p=Math.max(f,s),y=Math.floor(p/c),h=[0];while(h[h.length-1]<p/2)h.push(h[h.length-1]+y);h.push(...h.slice(1,h.length).map((t=>-t)));for(let l=0;l<h.length;l++)for(let t=0;t<h.length;t++)u.save(),u.translate(f/2,s/2),u.rotate(Math.PI/120*-a),r.length>3&&(r=r.slice(0,3)),r.forEach(((r,e)=>{const o=n*e+2;u.fillText(r,h[l],h[t]+o)})),u.restore()};function c({canvas:t,maxWidth:r="100%",maxHeight:e="100%"}){var n=new Image;return n.src=t.toDataURL("image/png"),n.style.maxHeight=e,n.style.maxWidth=r,n}function u(t,r="下载"){const e=t.toDataURL("image/png"),n=f(e),o=document.createElement("a"),a=window.URL.createObjectURL(n);o.href=a,o.download=r,o.click(),window.URL.revokeObjectURL(a)}function f(t){var r=t.split(","),e=r[0].match(/:(.*?);/)[1],n=atob(r[1]),o=n.length,a=new Uint8Array(o);while(o--)a[o]=n.charCodeAt(o);return new Blob([a],{type:e})}var s=e.p+"img/bj.a9febc3a.jpg",p={data(){return{fileUrl:s,fontSize:50,objmsg:{canvas:null,textArray:["水印图片","2022-01-01"],fontFamily:"fangsong",fontSize:30,fontcolor:"#fff",rotate:30,textAlign:"center",density:3}}},mounted(){this.drawWaterMarkFn()},methods:{async drawWaterMarkFn(){const t=await a(this.fileUrl);this.objmsg.canvas=t,i(this.objmsg);const r=await c({canvas:t,maxWidth:"650px",maxHeight:"650px"});var e=document.getElementById("imageBox");e.appendChild(r)},async downFile(){const t=await a(this.fileUrl);this.objmsg.canvas=t,await i(this.objmsg),u(t,"水印图片下载")}}},y=p,h=e(81656),l=(0,h.A)(y,n,o,!1,null,"b825b148",null),d=l.exports},73506:function(t,r,e){var n=e(13925),o=String,a=TypeError;t.exports=function(t){if(n(t))return t;throw new a("Can't set "+o(t)+" as a prototype")}},90679:function(t,r,e){var n=e(1625),o=TypeError;t.exports=function(t,r){if(n(r,t))return t;throw new o("Incorrect invocation")}},77811:function(t){t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},67394:function(t,r,e){var n=e(46706),o=e(44576),a=TypeError;t.exports=n(ArrayBuffer.prototype,"byteLength","get")||function(t){if("ArrayBuffer"!==o(t))throw new a("ArrayBuffer expected");return t.byteLength}},3238:function(t,r,e){var n=e(79504),o=e(67394),a=n(ArrayBuffer.prototype.slice);t.exports=function(t){if(0!==o(t))return!1;try{return a(t,0,0),!1}catch(r){return!0}}},95636:function(t,r,e){var n=e(24475),o=e(79504),a=e(46706),i=e(57696),c=e(3238),u=e(67394),f=e(94483),s=e(1548),p=n.structuredClone,y=n.ArrayBuffer,h=n.DataView,l=n.TypeError,d=Math.min,v=y.prototype,g=h.prototype,E=o(v.slice),A=a(v,"resizable","get"),m=a(v,"maxByteLength","get"),w=o(g.getInt8),R=o(g.setInt8);t.exports=(s||f)&&function(t,r,e){var n,o=u(t),a=void 0===r?o:i(r),v=!A||!A(t);if(c(t))throw new l("ArrayBuffer is detached");if(s&&(t=p(t,{transfer:[t]}),o===a&&(e||v)))return t;if(o>=a&&(!e||v))n=E(t,0,a);else{var g=e&&!v&&m?{maxByteLength:m(t)}:void 0;n=new y(a,g);for(var x=new h(t),T=new h(n),_=d(a,o),b=0;b<_;b++)R(T,b,w(x,b))}return s||f(t),n}},94644:function(t,r,e){var n,o,a,i=e(77811),c=e(43724),u=e(24475),f=e(94901),s=e(20034),p=e(39297),y=e(36955),h=e(16823),l=e(66699),d=e(36840),v=e(62106),g=e(1625),E=e(42787),A=e(52967),m=e(78227),w=e(33392),R=e(91181),x=R.enforce,T=R.get,_=u.Int8Array,b=_&&_.prototype,I=u.Uint8ClampedArray,O=I&&I.prototype,S=_&&E(_),C=b&&E(b),D=Object.prototype,U=u.TypeError,N=m("toStringTag"),L=w("TYPED_ARRAY_TAG"),M="TypedArrayConstructor",B=i&&!!A&&"Opera"!==y(u.opera),j=!1,k={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},P={BigInt64Array:8,BigUint64Array:8},F=function(t){if(!s(t))return!1;var r=y(t);return"DataView"===r||p(k,r)||p(P,r)},V=function(t){var r=E(t);if(s(r)){var e=T(r);return e&&p(e,M)?e[M]:V(r)}},W=function(t){if(!s(t))return!1;var r=y(t);return p(k,r)||p(P,r)},z=function(t){if(W(t))return t;throw new U("Target is not a typed array")},Y=function(t){if(f(t)&&(!A||g(S,t)))return t;throw new U(h(t)+" is not a typed array constructor")},H=function(t,r,e,n){if(c){if(e)for(var o in k){var a=u[o];if(a&&p(a.prototype,t))try{delete a.prototype[t]}catch(i){try{a.prototype[t]=r}catch(f){}}}C[t]&&!e||d(C,t,e?r:B&&b[t]||r,n)}},G=function(t,r,e){var n,o;if(c){if(A){if(e)for(n in k)if(o=u[n],o&&p(o,t))try{delete o[t]}catch(a){}if(S[t]&&!e)return;try{return d(S,t,e?r:B&&S[t]||r)}catch(a){}}for(n in k)o=u[n],!o||o[t]&&!e||d(o,t,r)}};for(n in k)o=u[n],a=o&&o.prototype,a?x(a)[M]=o:B=!1;for(n in P)o=u[n],a=o&&o.prototype,a&&(x(a)[M]=o);if((!B||!f(S)||S===Function.prototype)&&(S=function(){throw new U("Incorrect invocation")},B))for(n in k)u[n]&&A(u[n],S);if((!B||!C||C===D)&&(C=S.prototype,B))for(n in k)u[n]&&A(u[n].prototype,C);if(B&&E(O)!==C&&A(O,C),c&&!p(C,N))for(n in j=!0,v(C,N,{configurable:!0,get:function(){return s(this)?this[L]:void 0}}),k)u[n]&&l(u[n],L,n);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:B,TYPED_ARRAY_TAG:j&&L,aTypedArray:z,aTypedArrayConstructor:Y,exportTypedArrayMethod:H,exportTypedArrayStaticMethod:G,getTypedArrayConstructor:V,isView:F,isTypedArray:W,TypedArray:S,TypedArrayPrototype:C}},35370:function(t,r,e){var n=e(26198);t.exports=function(t,r,e){var o=0,a=arguments.length>2?e:n(r),i=new t(a);while(a>o)i[o]=r[o++];return i}},37628:function(t,r,e){var n=e(26198);t.exports=function(t,r){for(var e=n(t),o=new r(e),a=0;a<e;a++)o[a]=t[e-a-1];return o}},39928:function(t,r,e){var n=e(26198),o=e(91291),a=RangeError;t.exports=function(t,r,e,i){var c=n(t),u=o(e),f=u<0?c+u:u;if(f>=c||f<0)throw new a("Incorrect index");for(var s=new r(c),p=0;p<c;p++)s[p]=p===f?i:t[p];return s}},36955:function(t,r,e){var n=e(92140),o=e(94901),a=e(44576),i=e(78227),c=i("toStringTag"),u=Object,f="Arguments"===a(function(){return arguments}()),s=function(t,r){try{return t[r]}catch(e){}};t.exports=n?a:function(t){var r,e,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(e=s(r=u(t),c))?e:f?a(r):"Object"===(n=a(r))&&o(r.callee)?"Arguments":n}},12211:function(t,r,e){var n=e(79039);t.exports=!n((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},62106:function(t,r,e){var n=e(50283),o=e(24913);t.exports=function(t,r,e){return e.get&&n(e.get,r,{getter:!0}),e.set&&n(e.set,r,{setter:!0}),o.f(t,r,e)}},94483:function(t,r,e){var n,o,a,i,c=e(24475),u=e(69714),f=e(1548),s=c.structuredClone,p=c.ArrayBuffer,y=c.MessageChannel,h=!1;if(f)h=function(t){s(t,{transfer:[t]})};else if(p)try{y||(n=u("worker_threads"),n&&(y=n.MessageChannel)),y&&(o=new y,a=new p(2),i=function(t){o.port1.postMessage(null,[t])},2===a.byteLength&&(i(a),0===a.byteLength&&(h=i)))}catch(l){}t.exports=h},55002:function(t){t.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},87290:function(t,r,e){var n=e(50516),o=e(19088);t.exports=!n&&!o&&"object"==typeof window&&"object"==typeof document},50516:function(t){t.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},19088:function(t,r,e){var n=e(24475),o=e(44576);t.exports="process"===o(n.process)},16193:function(t,r,e){var n=e(79504),o=Error,a=n("".replace),i=function(t){return String(new o(t).stack)}("zxcasd"),c=/\n\s*at [^:]*:[^\n]*/,u=c.test(i);t.exports=function(t,r){if(u&&"string"==typeof t&&!o.prepareStackTrace)while(r--)t=a(t,c,"");return t}},46706:function(t,r,e){var n=e(79504),o=e(79306);t.exports=function(t,r,e){try{return n(o(Object.getOwnPropertyDescriptor(t,r)[e]))}catch(a){}}},23167:function(t,r,e){var n=e(94901),o=e(20034),a=e(52967);t.exports=function(t,r,e){var i,c;return a&&n(i=r.constructor)&&i!==e&&o(c=i.prototype)&&c!==e.prototype&&a(t,c),t}},18727:function(t,r,e){var n=e(36955);t.exports=function(t){var r=n(t);return"BigInt64Array"===r||"BigUint64Array"===r}},13925:function(t,r,e){var n=e(20034);t.exports=function(t){return n(t)||null===t}},32603:function(t,r,e){var n=e(655);t.exports=function(t,r){return void 0===t?arguments.length<2?"":r:n(t)}},42787:function(t,r,e){var n=e(39297),o=e(94901),a=e(48981),i=e(66119),c=e(12211),u=i("IE_PROTO"),f=Object,s=f.prototype;t.exports=c?f.getPrototypeOf:function(t){var r=a(t);if(n(r,u))return r[u];var e=r.constructor;return o(e)&&r instanceof e?e.prototype:r instanceof f?s:null}},52967:function(t,r,e){var n=e(46706),o=e(28551),a=e(73506);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,r=!1,e={};try{t=n(Object.prototype,"__proto__","set"),t(e,[]),r=e instanceof Array}catch(i){}return function(e,n){return o(e),a(n),r?t(e,n):e.__proto__=n,e}}():void 0)},1548:function(t,r,e){var n=e(24475),o=e(79039),a=e(77388),i=e(87290),c=e(50516),u=e(19088),f=n.structuredClone;t.exports=!!f&&!o((function(){if(c&&a>92||u&&a>94||i&&a>97)return!1;var t=new ArrayBuffer(8),r=f(t,{transfer:[t]});return 0!==t.byteLength||8!==r.byteLength}))},75854:function(t,r,e){var n=e(72777),o=TypeError;t.exports=function(t){var r=n(t,"number");if("number"==typeof r)throw new o("Can't convert number to bigint");return BigInt(r)}},57696:function(t,r,e){var n=e(91291),o=e(18014),a=RangeError;t.exports=function(t){if(void 0===t)return 0;var r=n(t),e=o(r);if(r!==e)throw new a("Wrong length or index");return e}},92140:function(t,r,e){var n=e(78227),o=n("toStringTag"),a={};a[o]="z",t.exports="[object z]"===String(a)},655:function(t,r,e){var n=e(36955),o=String;t.exports=function(t){if("Symbol"===n(t))throw new TypeError("Cannot convert a Symbol value to a string");return o(t)}},69714:function(t,r,e){var n=e(19088);t.exports=function(t){try{if(n)return Function('return require("'+t+'")')()}catch(r){}}},22812:function(t){var r=TypeError;t.exports=function(t,e){if(t<e)throw new r("Not enough arguments");return t}},16573:function(t,r,e){var n=e(43724),o=e(62106),a=e(3238),i=ArrayBuffer.prototype;n&&!("detached"in i)&&o(i,"detached",{configurable:!0,get:function(){return a(this)}})},77936:function(t,r,e){var n=e(46518),o=e(95636);o&&n({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return o(this,arguments.length?arguments[0]:void 0,!1)}})},78100:function(t,r,e){var n=e(46518),o=e(95636);o&&n({target:"ArrayBuffer",proto:!0},{transfer:function(){return o(this,arguments.length?arguments[0]:void 0,!0)}})},37467:function(t,r,e){var n=e(37628),o=e(94644),a=o.aTypedArray,i=o.exportTypedArrayMethod,c=o.getTypedArrayConstructor;i("toReversed",(function(){return n(a(this),c(this))}))},44732:function(t,r,e){var n=e(94644),o=e(79504),a=e(79306),i=e(35370),c=n.aTypedArray,u=n.getTypedArrayConstructor,f=n.exportTypedArrayMethod,s=o(n.TypedArrayPrototype.sort);f("toSorted",(function(t){void 0!==t&&a(t);var r=c(this),e=i(u(r),r);return s(e,t)}))},79577:function(t,r,e){var n=e(39928),o=e(94644),a=e(18727),i=e(91291),c=e(75854),u=o.aTypedArray,f=o.getTypedArrayConstructor,s=o.exportTypedArrayMethod,p=!!function(){try{new Int8Array(1)["with"](2,{valueOf:function(){throw 8}})}catch(t){return 8===t}}();s("with",{with:function(t,r){var e=u(this),o=i(t),s=a(e)?c(r):+r;return n(e,f(e),o,s)}}["with"],!p)},26280:function(t,r,e){e(16573)},47801:function(t,r,e){e(77936)},27913:function(t,r,e){e(78100)},64979:function(t,r,e){var n=e(46518),o=e(24475),a=e(97751),i=e(6980),c=e(24913).f,u=e(39297),f=e(90679),s=e(23167),p=e(32603),y=e(55002),h=e(16193),l=e(43724),d=e(96395),v="DOMException",g=a("Error"),E=a(v),A=function(){f(this,m);var t=arguments.length,r=p(t<1?void 0:arguments[0]),e=p(t<2?void 0:arguments[1],"Error"),n=new E(r,e),o=new g(r);return o.name=v,c(n,"stack",i(1,h(o.stack,1))),s(n,this,A),n},m=A.prototype=E.prototype,w="stack"in new g(v),R="stack"in new E(1,2),x=E&&l&&Object.getOwnPropertyDescriptor(o,v),T=!!x&&!(x.writable&&x.configurable),_=w&&!T&&!R;n({global:!0,constructor:!0,forced:d||_},{DOMException:_?A:E});var b=a(v),I=b.prototype;if(I.constructor!==b)for(var O in d||c(I,"constructor",i(1,b)),y)if(u(y,O)){var S=y[O],C=S.s;u(b,C)||c(b,C,i(6,S.c))}},14603:function(t,r,e){var n=e(36840),o=e(79504),a=e(655),i=e(22812),c=URLSearchParams,u=c.prototype,f=o(u.append),s=o(u["delete"]),p=o(u.forEach),y=o([].push),h=new c("a=1&a=2&b=3");h["delete"]("a",1),h["delete"]("b",void 0),h+""!=="a=2"&&n(u,"delete",(function(t){var r=arguments.length,e=r<2?void 0:arguments[1];if(r&&void 0===e)return s(this,t);var n=[];p(this,(function(t,r){y(n,{key:r,value:t})})),i(r,1);var o,c=a(t),u=a(e),h=0,l=0,d=!1,v=n.length;while(h<v)o=n[h++],d||o.key===c?(d=!0,s(this,o.key)):l++;while(l<v)o=n[l++],o.key===c&&o.value===u||f(this,o.key,o.value)}),{enumerable:!0,unsafe:!0})},47566:function(t,r,e){var n=e(36840),o=e(79504),a=e(655),i=e(22812),c=URLSearchParams,u=c.prototype,f=o(u.getAll),s=o(u.has),p=new c("a=1");!p.has("a",2)&&p.has("a",void 0)||n(u,"has",(function(t){var r=arguments.length,e=r<2?void 0:arguments[1];if(r&&void 0===e)return s(this,t);var n=f(this,t);i(r,1);var o=a(e),c=0;while(c<n.length)if(n[c++]===o)return!0;return!1}),{enumerable:!0,unsafe:!0})},98721:function(t,r,e){var n=e(43724),o=e(79504),a=e(62106),i=URLSearchParams.prototype,c=o(i.forEach);n&&!("size"in i)&&a(i,"size",{get:function(){var t=0;return c(this,(function(){t++})),t},configurable:!0,enumerable:!0})}}]);
//# sourceMappingURL=282.8d61eed9.js.map