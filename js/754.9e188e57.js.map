{"version":3,"file":"js/754.9e188e57.js","mappings":"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","sources":["webpack://yian/./src/components/proxySelect/index.vue","webpack://yian/src/components/proxySelect/index.vue","webpack://yian/./src/components/proxySelect/index.vue?aa6a","webpack://yian/./src/components/proxySelect/index.vue?0b66","webpack://yian/./src/components/ztree/index.vue","webpack://yian/./src/components/ztree/js/tool.js","webpack://yian/src/components/ztree/index.vue","webpack://yian/./src/components/ztree/index.vue?16a0","webpack://yian/./src/components/ztree/index.vue?55e7","webpack://yian/./src/views/permission/index.vue","webpack://yian/src/views/permission/index.vue","webpack://yian/./src/views/permission/index.vue?86b2","webpack://yian/./src/views/permission/index.vue?5b79","webpack://yian/./src/api/menu/index.js","webpack://yian/./src/common/data/dictionaryData.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-select',_vm._g(_vm._b({attrs:{\"title\":_vm.selectTitle},scopedSlots:_vm._u([{key:\"prefix\",fn:function(){return [_vm._t(\"prefix\")]},proxy:true},{key:\"empty\",fn:function(){return [_vm._t(\"empty\")]},proxy:true}],null,true),model:{value:(_vm.selectValue),callback:function ($$v) {_vm.selectValue=$$v},expression:\"selectValue\"}},'el-select',_vm.$attrs,false),_vm.$listeners),[_vm._t(\"default\"),_vm._l((_vm.options),function(item){return _c('el-option',{key:item[_vm.keyValue],attrs:{\"label\":item[_vm.keyLabel],\"value\":item[_vm.keyValue]}})})],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <!--  对el-select的二次封装-->\n  <el-select\n      :title=\"selectTitle\"\n      v-model=\"selectValue\"\n      v-bind=\"$attrs\"\n      v-on=\"$listeners\">\n    <slot></slot>\n    <template v-slot:prefix>\n      <slot name=\"prefix\"></slot>\n    </template>\n    <template v-slot:empty>\n      <slot name=\"empty\"></slot>\n    </template>\n    <el-option\n        v-for=\"item in options\"\n        :key=\"item[keyValue]\"\n        :label=\"item[keyLabel]\"\n        :value=\"item[keyValue]\">\n    </el-option>\n  </el-select>\n</template>\n<script>\nexport default {\n  name: 'index',\n  data () {\n    return {\n      selectTitle: '',\n      selectValue: null\n    };\n  },\n  props: {\n    value: {\n      type: [String, Array]\n    },\n    keyValue: {\n      type: String,\n      default: 'value'\n    },\n    keyLabel: {\n      type: String,\n      default: 'label'\n    },\n    options: {\n      type: Array,\n      default: () => []\n    }\n  },\n  watch: {\n    value: {\n      handler (newVal) {\n        this.selectValue = newVal;\n      },\n      immediate: true\n    },\n    selectValue: {\n      handler (newVal) {\n        if (newVal && newVal.length) {\n          if (typeof newVal === 'string') {\n            const result = this.options.find(item => item[this.keyValue] === newVal);\n            if (result) {\n              this.selectTitle = result[this.keyLabel];\n            } else {\n              this.selectTitle = '';\n            }\n          } else {\n            this.getArrTitle();\n          }\n        } else {\n          this.selectTitle = '';\n        }\n      },\n      immediate: true\n    }\n  },\n  methods: {\n    getArrTitle () {\n      const list = JSON.parse(JSON.stringify(this.options));\n      const arr = [];\n      this.selectValue.forEach(val => {\n        for (const key of list) {\n          if (val === key[this.keyValue]) {\n            arr.push(key);\n          }\n        }\n      });\n      this.selectTitle = arr.map(value => value[this.keyLabel]).toString();\n    }\n  }\n};\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=63739d18&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"63739d18\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _vm._m(0)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',[_c('ul',{staticClass:\"schema-tree-plus\",attrs:{\"id\":\"treeDemo\"}})])\n}]\n\nexport { render, staticRenderFns }","export default class ZTreeTool {\n  constructor (resourcesTree) {\n    // super();\n    this.resourcesTree = resourcesTree;\n    this.treeNode = null;\n  }\n\n  /**\n   * @Description 获取树\n   * @author qianyinggenian\n   * @date 2023/9/20\n   */\n  getTree () {\n    return this.resourcesTree;\n  }\n\n  /**\n   * @Description 设置点击事件\n   * @author qianyinggenian\n   * @date 2023/9/20\n   * @event\n   * @treeId\n   * @treeNode\n   * @clickFlag\n   */\n  setOnClick (clickFn) {\n    this.resourcesTree.setting.callback.onClick = clickFn;\n  }\n\n  /**\n   * @Description 设置双击事件\n   * @author qianyinggenian\n   * @date 2023/9/20\n   * @event\n   * @treeId\n   * @treeNode\n   */\n  setOnDblClick (onDblClickFn) {\n    this.resourcesTree.setting.callback.onDblClick = onDblClickFn;\n  }\n\n  /**\n   * @Description 用于捕获节点被拖拽的事件回调函数\n   * @author qianyinggenian\n   * @date 2023/9/20\n   * @event\n   * @treeId\n   * @treeNodes\n   */\n  setOnDrag (onDragFn) {\n    this.resourcesTree.setting.callback.onDrag = onDragFn;\n  }\n\n  /**\n   * @Description 用于捕获节点被拖拽的事件回调函数\n   * @author qianyinggenian\n   * @date 2023/9/20\n   * @event\n   * @treeId\n   * @treeNodes\n   * @targetNode\n   * @moveType\n   * @isCopy\n   */\n  setOnDrop (onDropFn) {\n    this.resourcesTree.setting.callback.onDrop = onDropFn;\n  }\n\n  /**\n   * @Description 设置点击前事件\n   * @author qianyinggenian\n   * @date 2023/9/20\n   * @treeId\n   * @treeNode\n   * @clickFlag\n   */\n  setBeforeClick (beforeClickFn) {\n    this.resourcesTree.setting.callback.beforeClick = beforeClickFn;\n  }\n\n  /**\n   * @Description 设置鼠标双击时前事件\n   * @author qianyinggenian\n   * @date 2023/9/20\n   * @treeId\n   * @treeNode\n   */\n  setBeforeDblClick (beforeDblClickFn) {\n    this.resourcesTree.setting.callback.beforeDblClick = beforeDblClickFn;\n  }\n\n  /**\n   * @Description 用于捕获父节点展开之前的事件回调函数，并且根据返回值确定是否允许展开操作\n   * @author qianyinggenian\n   * @date 2023/9/20\n   * @treeId\n   * @treeNode\n   */\n  setBeforeExpand (beforeExpandFn) {\n    this.resourcesTree.setting.callback.beforeExpand = beforeExpandFn;\n  }\n\n  /**\n   * @Description 用于捕获节点被拖拽之前的事件回调函数，并且根据返回值确定是否允许开启拖拽操作\n   * @author qianyinggenian\n   * @date 2023/9/20\n   * @treeId\n   * @treeNode\n   */\n  setBeforeDrag (beforeDragFn) {\n    this.resourcesTree.setting.callback.beforeDrag = beforeDragFn;\n  }\n\n  /**\n   * @Description 用于捕获节点拖拽操作结束之前的事件回调函数，并且根据返回值确定是否允许此拖拽操作\n   * @author qianyinggenian\n   * @date 2023/9/20\n   * @treeId\n   * @treeNodes\n   * @targetNode\n   * @moveType\n   * @isCopy\n   */\n  setBeforeDrop (beforeDropFn) {\n    this.resourcesTree.setting.callback.beforeDrop = beforeDropFn;\n  }\n\n  /**\n   * @Description 设置勾选事件\n   * @author qianyinggenian\n   * @date 2023/9/20\n   * @event\n   * @treeId\n   * @treeNode\n   */\n  setOnCheck (checkFn) {\n    this.resourcesTree.setting.callback.onCheck = checkFn;\n  }\n\n  /**\n   * @Description 设置勾选前事件\n   * @author qianyinggenian\n   * @date 2023/9/20\n   * @treeId\n   * @treeNode\n   * @clickFlag\n   */\n  setBeforeCheck (beforeCheckFn) {\n    this.resourcesTree.setting.callback.beforeCheck = beforeCheckFn;\n  }\n\n  getSelectNode (event) {\n    const id = event.target.id;\n    const arr = id.split('Btn_');\n    const tId = $('#' + arr[0] + arr[1]).val();\n    return this.resourcesTree.getNodeByTId(tId);\n  }\n}\n","<template>\n  <div>\n    <ul id=\"treeDemo\" class=\"schema-tree-plus\"></ul>\n  </div>\n</template>\n\n<script>\n// import { menuData } from '@/common/data';\nimport ZTreeTool from './js/tool';\n\nexport default {\n  name: 'index',\n  components: {},\n  data () {\n    return {\n      treeTool: null,\n      zTreeObj: {},\n      defaultSetting: {\n        view: {\n          /* 不显示ztree默认的图标 */\n          showIcon: false,\n          selectedMulti: false\n        },\n        edit: {\n          enable: true,\n          showRemoveBtn: false,\n          showRenameBtn: false,\n          drag: {\n            isMove: true,\n            isCopy: true\n          }\n        },\n        data: {\n          key: {\n            name: 'text'\n          },\n          simpleData: {\n            enable: true,\n            idKey: 'id',\n            pIdKey: 'parentId'\n          }\n        },\n        check: {\n          enable: true\n        }\n      },\n      zNodes: []\n    };\n  },\n  props: {\n    // https://www.treejs.cn/v3/api.php, 参考官方设置\n    setting: {\n      type: Object,\n      default: () => {\n      }\n    },\n    nodes: {\n      type: Array,\n      default: () => []\n    },\n    /** 自定义点击前函数 */\n    diyBeforeClick: {\n      type: Function\n    },\n    /** 自定义勾选前函数 */\n    diyBeforeCheck: {\n      type: Function\n    },\n    /** 是否默认选中第一个节点 */\n    isSelectFirstNode: {\n      type: Boolean,\n      default: true\n    },\n    isSetOperatePrivilege: {\n      type: Boolean,\n      default: false\n    },\n    setOperatePrivilege: {\n      type: Function\n    },\n    /** 自定义展开的层级 */\n    expandLevel: {\n      type: Number,\n      default: 1\n    },\n    /** 是否展开全部，是则展开全部，否则自定义展开到相应的层级 */\n    expandAll: {\n      type: Boolean,\n      default: false\n    }\n  },\n  watch: {\n    nodes: {\n      handler (newVal, oldVal) {\n        if (newVal !== oldVal) {\n          this.zNodes = JSON.parse(JSON.stringify(newVal));\n          this.$nextTick(() => {\n            this.initZTree();\n          });\n        }\n      },\n      immediate: true\n    }\n  },\n  computed: {},\n  mounted () {\n  },\n  methods: {\n    initZTree () {\n      const setting = $.extend(true, this.defaultSetting, this.setting);\n      const resourcesTree = $.fn.zTree.init($('#treeDemo'), setting, this.zNodes);\n      this.zTreeObj = resourcesTree;\n      this.treeTool = new ZTreeTool(resourcesTree);\n      this.treeTool.setBeforeClick(this.beforeClick);\n      this.treeTool.setBeforeCheck(this.beforeCheck);\n      this.treeTool.setOnClick(this.clickNode);\n      this.treeTool.setOnCheck(this.checkNode);\n      // 树节点自定按钮\n      if (this.isSetOperatePrivilege) {\n        if (this.setOperatePrivilege && typeof this.setOperatePrivilege === 'function') {\n          this.setOperatePrivilege(this.zTreeObj);\n        }\n      }\n      // 是否默认选中第一个节点\n      if (this.isSelectFirstNode) {\n        const nodes = this.zTreeObj.getNodes();\n        this.zTreeObj.selectNode(nodes[0]);\n        this.$emit('click', nodes[0]);\n      }\n      if (this.expandAll) {\n        // 展开全部\n        this.zTreeObj.expandAll(true);\n      } else {\n        // 自定义展开层级\n        let list = [];\n        for (let level = 0; level <= this.expandLevel; level++) {\n          const nodes = this.zTreeObj.getNodesByParam('level', level, null);\n          list = [...list, ...nodes];\n        }\n        list.forEach(value => {\n          this.zTreeObj.expandNode(value, true, false, false);\n        });\n      }\n      this.$emit('treeObj', {\n        zTreeObj: this.zTreeObj,\n        treeTool: this.treeTool\n      });\n    },\n    /**\n     * @Description 点击节点触发\n     * @author qianyinggenian\n     * @date 2023/9/19\n     */\n    clickNode (event, treeId, treeNode, clickFlag) {\n      event.preventDefault();\n      this.$emit('click', treeNode);\n    },\n    /**\n     * @Description 点击节点前触发\n     * @author qianyinggenian\n     * @date 2023/9/19\n     */\n    beforeClick (treeId, treeNode, clickFlag) {\n      if (this.diyBeforeClick && typeof this.diyBeforeClick === 'function') {\n        return this.diyBeforeClick(treeId, treeNode, clickFlag);\n      } else {\n        return true;\n      }\n    },\n    /**\n     * @Description 勾选节点触发\n     * @author qianyinggenian\n     * @date 2023/9/19\n     */\n    checkNode (event, treeId, treeNode) {\n      event.preventDefault();\n      const checkedNodesList = this.zTreeObj.getCheckedNodes();\n      this.$emit('check', treeNode, checkedNodesList);\n    },\n    /**\n     * @Description 勾选节点前触发\n     * @author qianyinggenian\n     * @date 2023/9/19\n     */\n    beforeCheck (treeId, treeNode) {\n      if (this.diyBeforeCheck && typeof this.diyBeforeCheck === 'function') {\n        return this.diyBeforeCheck(treeId, treeNode);\n      } else {\n        return true;\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=b7042872&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b7042872\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('layout',{attrs:{\"is-show-left\":false}},[_c('div',{staticClass:\"layout-responsive-auto--column\",attrs:{\"slot\":\"right\"},slot:\"right\"},[_c('div',{staticClass:\"toolbar\"},[_c('div',[_vm._v(\"类型：\")]),_c('proxySelect',{attrs:{\"options\":_vm.typeOptions},on:{\"change\":_vm.handleType},model:{value:(_vm.type),callback:function ($$v) {_vm.type=$$v},expression:\"type\"}})],1),_c('div',{staticClass:\"layout-responsive-auto__grow content\"},[_c('ztree',{ref:\"ztree\",attrs:{\"nodes\":_vm.nodes,\"setting\":_vm.setting,\"is-set-operate-privilege\":true},on:{\"treeObj\":_vm.getTreeObj,\"check\":_vm.handleCheck}})],1),_c('div',{staticClass:\"btns-box\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.handleSave}},[_vm._v(\"保存\")])],1)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <layout :is-show-left=\"false\">\n    <div slot=\"right\" class=\"layout-responsive-auto--column\">\n      <div class=\"toolbar\">\n        <div>类型：</div>\n        <proxySelect\n            v-model=\"type\"\n            :options=\"typeOptions\"\n            @change=\"handleType\"\n        >\n        </proxySelect>\n      </div>\n      <div class=\"layout-responsive-auto__grow content\">\n        <ztree\n            :nodes=\"nodes\"\n            :setting=\"setting\"\n            :is-set-operate-privilege=\"true\"\n            @treeObj=\"getTreeObj\"\n            @check=\"handleCheck\"\n            ref=\"ztree\"\n        />\n      </div>\n      <div class=\"btns-box\">\n        <el-button type=\"primary\" size=\"small\" @click=\"handleSave\">保存</el-button>\n      </div>\n    </div>\n  </layout>\n</template>\n\n<script>\nimport ztree from '@/components/ztree';\nimport proxySelect from '@/components/proxySelect/index.vue';\nimport { typeOptions } from '@/common/data/dictionaryData';\nimport menuApi from '@/api/menu';\nimport api from '@/api/permission';\n\nexport default {\n  name: 'index',\n  components: {\n    ztree,\n    proxySelect\n  },\n  data () {\n    return {\n      type: '',\n      typeId: '',\n      zTreeObj: {},\n      treeTool: null,\n      nodes: [],\n      checkList: [],\n      permissionList: [],\n      setting: {\n        data: {\n          key: {\n            name: 'name'\n          }\n        },\n        check: {\n          enable: true\n        }\n      },\n      treeNode: {},\n      typeOptions: typeOptions\n    };\n  },\n  props: {},\n  watch: {},\n  computed: {},\n  mounted () {\n    this.typeId = this.typeOptions[0].id;\n    this.type = this.typeOptions[0].value;\n    this.$nextTick(() => {\n      this.getInfo();\n    });\n  },\n  methods: {\n    /**\n     * @Description 获取权限数据\n     * @author qianyinggenian\n     * @date 2023/10/12\n     */\n    async getInfo () {\n      const res = await api.permissionDetail({ id: this.typeId });\n      const { code, data } = res;\n      if (code === 200) {\n        this.checkList = data.permission || [];\n        this.$nextTick(() => {\n          this.getTree();\n        });\n      }\n    },\n    /**\n     * @Description 获取导航数据\n     * @author qianyinggenian\n     * @date 2023/9/25\n     */\n    async getTree () {\n      const res = await menuApi.menuTree();\n      const { code, data, msg } = res;\n      if (code === 200) {\n        this.nodes = data.list || [];\n        this.checkList.forEach(value => {\n          this.nodes = this.nodes.map(item => {\n            if (item.id === value) {\n              item.checked = true;\n            }\n            return item;\n          });\n        });\n      } else {\n        this.$message.error(msg);\n      }\n    },\n    getTreeObj (params) {\n      this.zTreeObj = params.zTreeObj;\n      this.treeTool = params.treeTool;\n    },\n    /**\n     * @Description\n     * @author qianyinggenian\n     * @date 2023/10/12 0012\n     */\n    handleType (val) {\n      const result = this.typeOptions.find(item => item.value === val);\n      if (result) {\n        this.typeId = result.id;\n      } else {\n        this.typeId = '';\n      }\n      this.$nextTick(() => {\n        this.getInfo();\n      });\n    },\n    /**\n     * @Description 勾选节点触发\n     * @author qianyinggenian\n     * @date 2023/10/12 0012\n     */\n    handleCheck (treeNode, checkNodes) {\n      console.log('treeNode', treeNode);\n      console.log('checkNodes', checkNodes);\n      this.permissionList = checkNodes.map(value => value.id);\n    },\n    /**\n     * @Description 保存\n     * @author qianyinggenian\n     * @date 2023/10/12 0012\n     */\n    handleSave () {\n      this.$confirm('确定保存吗？', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(async () => {\n        this.loading = true;\n        const params = {\n          id: this.typeId,\n          type: this.type,\n          permission: this.permissionList\n        };\n        const res = await api.permissionSave(params);\n        if (res.code === 200) {\n          this.$message.success(res.msg);\n        } else {\n          this.$message.error(res.msg);\n        }\n        this.loading = false;\n      }).catch(() => {\n        this.$message({\n          type: 'info',\n          message: '已取消保存'\n        });\n      });\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@mixin flexStyle {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.toolbar {\n  display: flex;\n  align-items: center;\n}\n\n.content {\n  padding: 10px 0;\n  box-sizing: border-box;\n}\n\n.btns-box {\n  @include flexStyle;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=4d127ff4&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=4d127ff4&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4d127ff4\",\n  null\n  \n)\n\nexport default component.exports","import request from '@/utils/axios';\n\nexport default {\n  /**\n   * @Description 详情\n   * @author qianyinggenian\n   * @date 2023/9/22\n   */\n  menuDetail: (data) => request({\n    url: '/menu/detail',\n    method: 'post',\n    data\n  }),\n  /**\n   * @Description 新增保存\n   * @author qianyinggenian\n   * @date 2023/9/22\n   */\n  menuSave: (data) => {\n    return request({\n      url: '/menu/save',\n      method: 'post',\n      data\n    });\n  },\n  /**\n   * @Description 编辑保存\n   * @author qianyinggenian\n   * @date 2023/9/22\n   */\n  menuUpdate: (data) => {\n    return request({\n      url: '/menu/update',\n      method: 'post',\n      data\n    });\n  },\n  /**\n   * @Description 获取导航树信息\n   * @author qianyinggenian\n   * @date 2023/9/22\n   */\n  menuTree: (data) => {\n    return request({\n      url: '/menu/tree',\n      method: 'post',\n      data\n    });\n  },\n  /**\n   * @Description 删除\n   * @author qianyinggenian\n   * @date 2023/9/22\n   */\n  menuDelete: (data) => {\n    return request({\n      url: '/menu/delete',\n      method: 'post',\n      data\n    });\n  },\n  /**\n   * @Description 唯一性校验\n   * @author qianyinggenian\n   * @date 2023/9/22\n   */\n  menuUniqueness: (data) => {\n    return request({\n      url: '/menu/uniqueness',\n      method: 'post',\n      data\n    });\n  }\n};\n","export const typeOptions = [\n  {\n    value: '超管',\n    label: '超管',\n    id: 'EeFDC299-f42b-8cc7-1bfB-dF189C655661'\n  },\n  {\n    value: '用户',\n    label: '用户',\n    id: 'C82CB616-1173-2eA6-4dD1-b92EfF2406eb'\n  },\n  {\n    value: '访客',\n    label: '访客',\n    id: 'E59Dcfb1-0d6b-11C2-F884-6FC26e9815C3'\n  }\n];\nexport const accountStatusOptions = [\n  {\n    value: '启用',\n    label: '启用'\n  },\n  {\n    value: '禁用',\n    label: '禁用'\n  }\n];\nexport const yesOrNo = [\n  {\n    value: '1',\n    label: '是'\n  },\n  {\n    value: '0',\n    label: '否'\n  }\n];\n"],"names":["render","_vm","this","_c","_self","_g","_b","attrs","selectTitle","scopedSlots","_u","key","fn","_t","proxy","model","value","selectValue","callback","$$v","expression","$attrs","$listeners","_l","options","item","keyValue","keyLabel","staticRenderFns","name","data","props","type","String","Array","default","watch","handler","newVal","immediate","length","result","find","getArrTitle","methods","list","JSON","parse","stringify","arr","forEach","val","push","map","toString","component","_m","staticClass","ZTreeTool","constructor","resourcesTree","treeNode","getTree","setOnClick","clickFn","setting","onClick","setOnDblClick","onDblClickFn","onDblClick","setOnDrag","onDragFn","onDrag","setOnDrop","onDropFn","onDrop","setBeforeClick","beforeClickFn","beforeClick","setBeforeDblClick","beforeDblClickFn","beforeDblClick","setBeforeExpand","beforeExpandFn","beforeExpand","setBeforeDrag","beforeDragFn","beforeDrag","setBeforeDrop","beforeDropFn","beforeDrop","setOnCheck","checkFn","onCheck","setBeforeCheck","beforeCheckFn","beforeCheck","getSelectNode","event","id","target","split","tId","$","getNodeByTId","components","treeTool","zTreeObj","defaultSetting","view","showIcon","selectedMulti","edit","enable","showRemoveBtn","showRenameBtn","drag","isMove","isCopy","simpleData","idKey","pIdKey","check","zNodes","Object","nodes","diyBeforeClick","Function","diyBeforeCheck","isSelectFirstNode","Boolean","isSetOperatePrivilege","setOperatePrivilege","expandLevel","Number","expandAll","oldVal","$nextTick","initZTree","computed","mounted","extend","zTree","init","clickNode","checkNode","getNodes","selectNode","$emit","level","getNodesByParam","expandNode","treeId","clickFlag","preventDefault","checkedNodesList","getCheckedNodes","slot","_v","typeOptions","on","handleType","ref","getTreeObj","handleCheck","handleSave","ztree","proxySelect","typeId","checkList","permissionList","getInfo","res","api","permissionDetail","code","permission","menuApi","menuTree","msg","checked","$message","error","params","checkNodes","console","log","$confirm","confirmButtonText","cancelButtonText","then","loading","permissionSave","success","catch","message","menuDetail","request","url","method","menuSave","menuUpdate","menuDelete","menuUniqueness","label","accountStatusOptions","yesOrNo"],"sourceRoot":""}