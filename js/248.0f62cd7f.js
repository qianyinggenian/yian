"use strict";(self["webpackChunkyian"]=self["webpackChunkyian"]||[]).push([[248],{58248:function(e,t,s){s.r(t),s.d(t,{default:function(){return u}});var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("div",{staticClass:"tool-box"},[t("div",{staticClass:"tips"},[e._v("图片转base64:")]),t("input",{ref:"uploadBtn",staticStyle:{display:"none"},attrs:{type:"file",accept:".png,.jpeg,.jpg"},on:{change:e.onFileChange}}),t("el-button",{attrs:{size:"small"},on:{click:e.handleUpload}},[e._v("选择文件")]),e.file?t("span",{staticStyle:{"margin-left":"10px"}},[e._v("已选择的文件："+e._s(e.file.name))]):e._e(),t("el-button",{staticClass:"btn",attrs:{size:"small"},on:{click:e.handleDownload}},[e._v("下载")]),t("el-button",{staticClass:"btn",attrs:{size:"small"},on:{click:e.handleCopyResult}},[e._v("拷贝")])],1),t("div",{staticClass:"base64-container"},[e._v(" "+e._s(e.resultValue)+" ")])])},l=[],i=(s(14603),s(47566),s(98721),s(4901)),n={components:{},data(){return{file:null,resultValue:"",fileName:"",fileType:["image/jpeg","image/jpg","image/png"]}},props:{},computed:{},watch:{},created(){},mounted(){},methods:{handleUpload(){this.$refs.uploadBtn.value="",this.$refs.uploadBtn.click()},async onFileChange(e){const t=e.target.files[0];if(this.file=t,this.fileName=(0,i.UY)(this.file.name,".").startStr,!t||!this.fileType.includes(t.type))return void this.$message.error("请选择一个图片文件！");const s=new FileReader;s.onload=e=>{this.resultValue=e.target.result},s.readAsDataURL(this.file)},handleDownload(){if(this.resultValue){const e=new Blob([this.resultValue],{type:"text/plain"}),t=document.createElement("a"),s=window.URL.createObjectURL(e);t.href=s,t.download=`${this.fileName}-base64.txt`,document.body.appendChild(t),t.click(),document.body.removeChild(t),window.URL.revokeObjectURL(s)}else this.$message.error("内容为空，不可保存")},handleCopyResult(){if(!this.resultValue)return this.$message.error("请先上传文件再拷贝"),!1;if(navigator.clipboard&&"function"===typeof navigator.clipboard.writeText)navigator.clipboard.writeText(this.resultValue).then((()=>{this.$message.success("复制成功")}));else{const t=document.createElement("textarea");t.value=this.resultValue,document.body.appendChild(t),t.select();try{const e=document.execCommand("copy");e?this.$message.success("复制成功"):this.$message.error("复制失败")}catch(e){this.$message.error("复制失败:",e)}document.body.removeChild(t)}}}},o=n,r=s(81656),c=(0,r.A)(o,a,l,!1,null,"f54e6a7c",null),u=c.exports}}]);
//# sourceMappingURL=248.0f62cd7f.js.map