{"version":3,"file":"js/248.0f62cd7f.js","mappings":"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","sources":["webpack://yian/./src/views/base64/index.vue","webpack://yian/src/views/base64/index.vue","webpack://yian/./src/views/base64/index.vue?7f9b","webpack://yian/./src/views/base64/index.vue?c397"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"tool-box\"},[_c('div',{staticClass:\"tips\"},[_vm._v(\"图片转base64:\")]),_c('input',{ref:\"uploadBtn\",staticStyle:{\"display\":\"none\"},attrs:{\"type\":\"file\",\"accept\":\".png,.jpeg,.jpg\"},on:{\"change\":_vm.onFileChange}}),_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":_vm.handleUpload}},[_vm._v(\"选择文件\")]),(_vm.file)?_c('span',{staticStyle:{\"margin-left\":\"10px\"}},[_vm._v(\"已选择的文件：\"+_vm._s(_vm.file.name))]):_vm._e(),_c('el-button',{staticClass:\"btn\",attrs:{\"size\":\"small\"},on:{\"click\":_vm.handleDownload}},[_vm._v(\"下载\")]),_c('el-button',{staticClass:\"btn\",attrs:{\"size\":\"small\"},on:{\"click\":_vm.handleCopyResult}},[_vm._v(\"拷贝\")])],1),_c('div',{staticClass:\"base64-container\"},[_vm._v(\" \"+_vm._s(_vm.resultValue)+\" \")])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n<template>\n<div class=\"container\">\n  <div class=\"tool-box\">\n    <div class=\"tips\">图片转base64:</div>\n    <input style=\"display: none\" type=\"file\" ref=\"uploadBtn\" accept=\".png,.jpeg,.jpg\"  @change=\"onFileChange\">\n    <el-button size=\"small\" @click=\"handleUpload\">选择文件</el-button>\n    <span style=\"margin-left: 10px\" v-if=\"file\">已选择的文件：{{file.name}}</span>\n    <el-button class=\"btn\" size=\"small\" @click=\"handleDownload\">下载</el-button>\n    <el-button class=\"btn\" size=\"small\" @click=\"handleCopyResult\">拷贝</el-button>\n  </div>\n  <div class=\"base64-container\">\n    {{resultValue}}\n  </div>\n</div>\n</template>\n<script>\nimport { getStr } from '@/utils/util';\n\nexport default {\n  components: {},\n  data () {\n    return {\n      file: null,\n      resultValue: '',\n      fileName: '',\n      fileType: ['image/jpeg', 'image/jpg', 'image/png']\n    };\n  },\n  props: {},\n  computed: {},\n  watch: {},\n  created () {},\n  mounted () {},\n  methods: {\n    /**\n     * @Description\n     * @author qianyinggenian\n     * @date  2024/7/24\n     */\n    handleUpload () {\n      this.$refs.uploadBtn.value = '';\n      this.$refs.uploadBtn.click();\n    },\n    /**\n     * @Description 选择文件后触发\n     * @author qianyinggenian\n     * @date  2024/7/24\n     */\n    async onFileChange (event) {\n      const file = event.target.files[0];\n      this.file = file;\n      this.fileName = getStr(this.file.name, '.').startStr;\n      if (!file || !this.fileType.includes(file.type)) {\n        this.$message.error('请选择一个图片文件！');\n        return;\n      }\n      // 使用FileReader读取文件\n      const reader = new FileReader();\n\n      // 定义读取完成的回调函数\n      reader.onload = (e) => {\n        // 获取Base64编码的数据\n        this.resultValue = e.target.result;\n      };\n\n      // 读取文件为DataURL，即Base64编码\n      reader.readAsDataURL(this.file);\n    },\n    /**\n     * @Description 下载\n     * @author qianyinggenian\n     * @date 2024/7/24\n     */\n    handleDownload () {\n      if (this.resultValue) {\n        const blob = new Blob([this.resultValue], { type: 'text/plain' });\n        const downloadElement = document.createElement('a');\n        const href = window.URL.createObjectURL(blob); // 创建下载的链接\n        downloadElement.href = href;\n        downloadElement.download = `${this.fileName}-base64.txt`; // 下载后文件名\n        document.body.appendChild(downloadElement);\n        downloadElement.click(); // 点击下载\n        document.body.removeChild(downloadElement); // 下载完成移除元素\n        window.URL.revokeObjectURL(href); // 释放掉blob对象\n      } else {\n        this.$message.error('内容为空，不可保存');\n      }\n    },\n    /**\n     * @Description 拷贝\n     * @author qianyinggenian\n     * @date 2024/7/24\n     */\n    handleCopyResult () {\n      if (!this.resultValue) {\n        this.$message.error('请先上传文件再拷贝');\n        return false;\n      }\n      if (navigator.clipboard && typeof navigator.clipboard.writeText === 'function') {\n        navigator.clipboard.writeText(this.resultValue).then(() => {\n          this.$message.success('复制成功');\n        });\n      } else {\n        const textarea = document.createElement('textarea');\n        textarea.value = this.resultValue;\n        document.body.appendChild(textarea);\n        textarea.select();\n        try {\n          // 尝试执行复制操作\n          const success = document.execCommand('copy');\n          if (success) {\n            this.$message.success('复制成功');\n          } else {\n            this.$message.error('复制失败');\n          }\n        } catch (error) {\n          this.$message.error('复制失败:', error);\n        }\n        document.body.removeChild(textarea);\n      }\n    }\n  }\n};\n</script>\n<style scoped lang=\"scss\">\n.container {\n  height: 100%;\n  width: 100%;\n  padding: 10px;\n  box-sizing: border-box;\n  .tool-box {\n    .tips {\n      margin-bottom: 10px;\n    }\n  }\n  .btn {\n    width: 80px;\n    letter-spacing: 2px;\n    margin-left: 20px;\n  }\n  .base64-container {\n    width: 100%;\n    margin-top: 10px;\n    height: calc(100% - 65px - 10px);\n    border: 1px solid red;\n    overflow-y: auto;\n    padding: 10px;\n    box-sizing: border-box;\n    overflow-wrap: break-word; /* 当文本过长时允许换行 */\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=f54e6a7c&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=f54e6a7c&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f54e6a7c\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","_v","ref","staticStyle","attrs","on","onFileChange","handleUpload","file","_s","name","_e","handleDownload","handleCopyResult","resultValue","staticRenderFns","components","data","fileName","fileType","props","computed","watch","created","mounted","methods","$refs","uploadBtn","value","click","event","target","files","getStr","startStr","includes","type","$message","error","reader","FileReader","onload","e","result","readAsDataURL","blob","Blob","downloadElement","document","createElement","href","window","URL","createObjectURL","download","body","appendChild","removeChild","revokeObjectURL","navigator","clipboard","writeText","then","success","textarea","select","execCommand","component"],"sourceRoot":""}