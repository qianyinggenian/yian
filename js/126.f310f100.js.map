{"version":3,"file":"js/126.f310f100.js","mappings":"qJAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,OAAOC,MAAOL,EAAIM,UAAW,CAACJ,EAAG,MAAM,CAACE,YAAY,qDAAqDG,MAAMP,EAAIQ,QAAU,kBAAoB,GAAGH,MAAOL,EAAIS,UAAWC,GAAG,CAAC,UAAY,SAASC,GAAQ,OAAGA,EAAOC,SAAWD,EAAOE,cAAqB,KAAYb,EAAIc,YAAYC,MAAM,KAAMC,UAAU,EAAE,MAAQhB,EAAIiB,gBACrZ,EACIC,EAAkB,GCDf,MAAMC,EAAUA,CAACC,EAAMC,EAAIC,IAC5BA,EAAQF,EACHA,EAELE,EAAQD,EACHA,EAEFC,ECOT,OACAC,KAAA,QACAC,IAAAA,GACA,OAEAC,SAAA,CACAC,KAAAC,OAAAC,WAAA,MACAC,KAAA,GAAAF,OAAAG,YAAA,IAEAC,UAAA,CACAC,OAAA,EACAC,MAAA,GAEAzB,SAAA,EACA0B,SAAA,GACAC,UAAA,GACAC,OAAA,GAEA,EACAC,MAAA,CACA,EAEAC,SAAA,CACAhC,QAAAA,GACA,OACA0B,OAAA,QAAAD,UAAAC,WACAC,MAAA,QAAAF,UAAAE,UAEA,EACAM,YAAAA,GACA,eACAd,GACA,MACA,UACAM,GACA,KACAS,EAAAT,EAAAE,MAAA,MACAQ,EAAAV,EAAAC,OAAA,MACAN,EAAAD,EAAAC,KACAG,EAAAJ,EAAAI,IACA,OACAH,KAAAgB,SAAAvB,EAAA,EAAAqB,EAAAd,IACAG,IAAAa,SAAAvB,EAAA,EAAAsB,EAAAZ,IAEA,EAMApB,SAAAA,GACA,OACAoB,IAAA,QAAAU,aAAAV,QACAH,KAAA,QAAAa,aAAAb,SAEA,GAEAiB,OAAAA,GACA,KAAAZ,UAAAE,MAAAN,OAAAC,WACA,KAAAG,UAAAC,OAAAL,OAAAG,YAEAH,OAAAiB,SAAA,IACA,MACA,KAAAb,UAAAE,MAAAN,OAAAC,WACA,KAAAG,UAAAC,OAAAL,OAAAG,WACA,EAHA,EAKA,EACAe,QAAA,CACA5B,WAAAA,GACA6B,QAAAC,IAAA,OACA,EAMAjC,WAAAA,CAAAkC,GACAA,EAAAC,iBACA,MAAAC,EAAAF,EAAAG,QACAC,EAAAJ,EAAAK,QACAC,EAAA,KAAA7B,SAAAC,KACA6B,EAAA,KAAA9B,SAAAI,IACA2B,SAAAC,YAAAT,IACA,KAAAxC,SAAA,EACAwC,EAAAC,iBACA,MAAAS,EAAAV,EAAAG,QAAAD,EACAS,EAAAX,EAAAK,QAAAD,EACA,KAAA3B,SAAAI,IAAA0B,EAAAI,EACA,KAAAlC,SAAAC,KAAA4B,EAAAI,CAAA,EAEAF,SAAAI,UAAAZ,IACA,KAAAxC,SAAA,EACAgD,SAAAC,YAAAD,SAAAI,UAAA,KACAZ,EAAAC,gBAAA,CAEA,IC/G6P,I,WCQzPY,GAAY,OACd,EACA9D,EACAmB,GACA,EACA,KACA,WACA,MAIF,EAAe2C,EAAiB,O","sources":["webpack://yian/./src/views/dragView/index.vue","webpack://yian/./src/views/dragView/util.js","webpack://yian/src/views/dragView/index.vue","webpack://yian/./src/views/dragView/index.vue?978e","webpack://yian/./src/views/dragView/index.vue?5c7b"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"drag\",style:(_vm.divStyle)},[_c('div',{staticClass:\"drag-wrapper animate__animated animate__fadeInLeft\",class:_vm.clicked ? 'moveCursorStyle' : '',style:(_vm.dragStyle),on:{\"mousedown\":function($event){if($event.target !== $event.currentTarget)return null;return _vm.draggableFn.apply(null, arguments)},\"click\":_vm.handleClick}})])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/* 取值为最小值和最大值之间 */\nexport const inRange = (from, to, value) => {\n  if (value < from) {\n    return from;\n  }\n  if (value > to) {\n    return to;\n  }\n  return value;\n};\n","<template>\n  <div class=\"drag\" :style=\"divStyle\">\n    <div class=\"drag-wrapper animate__animated animate__fadeInLeft \"\n         :class=\"clicked ? 'moveCursorStyle' : ''\"\n         :style=\"dragStyle\"  @mousedown.self=\"draggableFn\"\n         @click=\"handleClick\"\n    >\n    </div>\n  </div>\n</template>\n\n<script>\n// import props from './props';\nimport { inRange } from './util';\n\nexport default {\n  name: 'index',\n  data () {\n    return {\n      // visible: true,\n      position: { // 弹窗相对于左上角的位置\n        left: window.innerWidth - 70 - 10,\n        top: -(window.innerHeight * 0.5) + 90 // 初始距离顶部50，计算方法：-0.5x+y+(x-80)*0.5=50, 求y值\n      },\n      windowObj: {\n        height: 0,\n        width: 0\n      },\n      clicked: false,\n      minWidth: 70,\n      minHeight: 70,\n      dragEl: {}\n    };\n  },\n  props: {\n    // ...props\n  },\n  computed: {\n    divStyle () {\n      return {\n        height: `${this.windowObj.height}px`,\n        width: `${this.windowObj.width}px`\n      };\n    },\n    dragPosition () {\n      const {\n        position\n      } = this;\n      const {\n        windowObj\n      } = this;\n      const maxLeft = windowObj.width - 70 - 10; // 减去div宽度70，减去滚动条10\n      const maxTop = windowObj.height - 70 - 10; // 减去div高度70，减去滚动条10\n      const left = position.left;\n      const top = position.top;\n      return {\n        left: parseInt(inRange(0, maxLeft, left)),\n        top: parseInt(inRange(0, maxTop, top))\n      };\n    },\n    /**\n     * @Description 弹窗样式\n     * @author qianyinggenian\n     * @date 2021/12/30\n     */\n    dragStyle () {\n      return {\n        top: `${this.dragPosition.top}px`,\n        left: `${this.dragPosition.left}px`\n      };\n    }\n  },\n  mounted () {\n    this.windowObj.width = window.innerWidth;\n    this.windowObj.height = window.innerHeight;\n    // 监听浏览器窗口变化\n    window.onresize = () => {\n      return (() => {\n        this.windowObj.width = window.innerWidth;\n        this.windowObj.height = window.innerHeight;\n      })();\n    };\n  },\n  methods: {\n    handleClick () {\n      console.log(111111);\n    },\n    /**\n     * @Description 拖拽\n     * @author qianyinggenian\n     * @date 2021/12/29\n     */\n    draggableFn (e) {\n      e.preventDefault();\n      const startX = e.clientX;\n      const startY = e.clientY;\n      const cachedPositionX = this.position.left;\n      const cachedPositionY = this.position.top;\n      document.onmousemove = e => { // 鼠标移动事件\n        this.clicked = true;\n        e.preventDefault();\n        const moveX = e.clientX - startX; // 计算从开始的位置到现在移动到的位置的x、y轴的距离\n        const moveY = e.clientY - startY;\n        this.position.top = cachedPositionY + moveY;\n        this.position.left = cachedPositionX + moveX; // 算出的距离再加上之前的位置得到新的位置\n      };\n      document.onmouseup = e => { // 鼠标左键弹起事件，说明此时已结束拖拽\n        this.clicked = false;\n        document.onmousemove = document.onmouseup = null;\n        e.preventDefault();\n      };\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.drag {\n  position: fixed;\n  z-index: 1999;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  pointer-events: none;\n  overflow: hidden;\n}\n\n.drag-wrapper {\n  pointer-events: auto;\n  height: 70px;\n  width: 70px;\n  border-radius: 10px;\n  z-index: 2020;\n  background: #42b983;\n  position: relative;\n}\n.moveCursorStyle {\n  cursor: move !important;\n}\n\n// 弹窗出现时间\n::v-deep .animate__animated {\n  animation-duration: 0.5s !important;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=8296f4b6&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=8296f4b6&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8296f4b6\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","style","divStyle","class","clicked","dragStyle","on","$event","target","currentTarget","draggableFn","apply","arguments","handleClick","staticRenderFns","inRange","from","to","value","name","data","position","left","window","innerWidth","top","innerHeight","windowObj","height","width","minWidth","minHeight","dragEl","props","computed","dragPosition","maxLeft","maxTop","parseInt","mounted","onresize","methods","console","log","e","preventDefault","startX","clientX","startY","clientY","cachedPositionX","cachedPositionY","document","onmousemove","moveX","moveY","onmouseup","component"],"sourceRoot":""}