"use strict";(self["webpackChunkyian"]=self["webpackChunkyian"]||[]).push([[567],{25567:function(e,t,l){l.d(t,{A:function(){return y}});var o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"layout-responsive-auto--column proxy-table-container"},[e.isShowSlotToolBar?e._t("toolBar"):e._e(),e.isShowDefaultToolBar?t("div",{staticClass:"default-toolBar",class:{"default-toolBar-end":0===e.operations.length}},[e.operations&&e.operations.length?t("div",{staticClass:"operations-box"},e._l(e.operations,(function(l){return t("el-button",{key:l.value,attrs:{size:"small",type:l?.type?l.type:e.typeObj[l.value]?e.typeObj[l.value]:"primary"},on:{click:function(t){return e.handleClick(l)}}},[t("svg-icon",{attrs:{size:12,"icon-class":l?.svg?l.svg:e.operationSvg[l.value]?e.operationSvg[l.value]:"btn4",fill:l?.fill?l.fill:""}}),e._v(" "+e._s(l.label)+" ")],1)})),1):e._e(),e.isShowToolBar?t("div",{staticClass:"toolbar"},[e._t("search-box"),e.isShowSearchInput?t("el-input",{attrs:{clearable:"",title:e.searchValue,placeholder:e.placeholder,size:"small"},model:{value:e.searchValue,callback:function(t){e.searchValue=t},expression:"searchValue"}}):e._e(),t("el-button",{attrs:{icon:"el-icon-search",type:"primary",size:"small"},on:{click:e.handleSearch}},[e._v(" "+e._s(e.searchBtnLabel)+" ")]),e.isShowFilter?t("el-dropdown",{attrs:{"hide-on-click":!1,trigger:"click"},scopedSlots:e._u([{key:"dropdown",fn:function(){return[t("el-dropdown-menu",{staticClass:"filter-dropdown"},[t("el-dropdown-item",[t("el-checkbox-group",{staticClass:"filter-group",model:{value:e.checkList,callback:function(t){e.checkList=t},expression:"checkList"}},e._l(e.columns,(function(l){return t("el-checkbox",{key:l.prop||l.name,attrs:{label:l.prop}},[e._v(" "+e._s(l.label)+" ")])})),1)],1),t("el-dropdown-item",[t("el-button",{attrs:{size:"small"},on:{click:e.handleConfirm}},[e._v("确定")]),t("el-button",{attrs:{size:"small"},on:{click:e.handleReset}},[e._v("重置")])],1)],1)]},proxy:!0}],null,!1,161505695)},[t("el-button",{staticClass:"filter-btn",attrs:{size:"small"}},[e._v("筛选")])],1):e._e()],2):e._e()]):e._e(),e.tableTitle?t("div",{staticClass:"table-title"},[e._v(" "+e._s(e.tableTitle)+" ")]):e._e(),t("el-table",{ref:"table",staticClass:"layout-responsive-auto__grow",staticStyle:{width:"100%"},attrs:{data:e.tableData,border:e.border,stripe:e.stripe,lazy:e.lazy,load:e.load,size:e.size,"row-key":"id",height:"100%","show-header":e.showHeader,"highlight-current-row":e.highlightCurrentRow,"show-summary":e.showSummary,"sum-text":e.sumText,"summary-method":e.getSummaries,"span-method":e.spanMethod},on:{select:e.handleSelect,"select-all":e.handleSelectAllFn,"row-click":e.handleRowClick}},[e.showCheckbox?t("el-table-column",{attrs:{type:"selection",fixed:e.isCheckboxFixed,selectable:e.hasCheckBox,"reserve-selection":"","class-name":"choose-input-table-selection","show-overflow-tooltip":!1,align:"center","header-align":"center",width:"50"}}):e._e(),e.showIndex?t("el-table-column",{attrs:{type:"index",fixed:e.isIndexFixed,index:e.indexMethod,label:"序号","class-name":"choose-input-table-index","show-overflow-tooltip":!1,"header-align":"center",align:"center",width:"80"}}):e._e(),e._l(e.columnsFn(e.columns,e.filterCheckList),(function(l){return[l.slot?t("el-table-column",{key:l.prop,attrs:{prop:l.prop||l.name,label:l.label,sortable:l.sortable,fixed:l.fixed,"sort-method":e.sortMethod,filters:l.filters,align:l.align,"show-overflow-tooltip":e.showOverflowTooltip,width:l.width,"min-width":l.minWidth,"render-header":l.renderHeader||e.renderHeader},scopedSlots:e._u([l.slotColumn?{key:"default",fn:function(t){return[e._t(l.slotColumn,null,{column:l,row:t.row,index:t.$index})]}}:null,l.slotHeader?{key:"header",fn:function(){return[e._t(l.slotHeader)]},proxy:!0}:null],null,!0)}):t("tableColumn",{key:l.prop,attrs:{col:l}})]})),t("el-table-column",{attrs:{align:"right",fixed:"right","class-name":"operation",prop:"operation",width:e.operationWidth,label:"操作"},scopedSlots:e._u([e.slotOperation?{key:"default",fn:function(t){return[e._t("operation",null,{row:t.row})]}}:{key:"default",fn:function(l){return[e.isShowTextBtn?t("div",{ref:"btns",staticClass:"operation-btns-box"},[e._l(e.tableBtns,(function(o){return[!l.row.rowBtns||l.row.rowBtns.includes(o.value)?t("div",{key:o.value,staticClass:"btn",style:{color:"#0af1f1"}},[t("div",{on:{click:function(t){return t.stopPropagation(),e.handleClickBtn(o.value,l.row)}}},[e._v(e._s(o.label)+" ")])]):e._e()]}))],2):t("div",{ref:"btns",staticClass:"operation-btns-box"},e._l(e.tableBtns,(function(o){return t("div",{key:o.value,staticClass:"btn svg-btn",style:{color:o?.color?o.color:e.btnColor[o.value]?e.btnColor[o.value]:"#1b6ef3"}},[t("svg-icon",{attrs:{"icon-class":o?.svg?o.svg:e.btnSvg[o.value]?e.btnSvg[o.value]:"btn4",title:o.label,fill:o?.fill?o.fill:""},on:{click:function(t){return e.handleClickBtn(o.value,l.row)}}})],1)})),0)]}}],null,!0)})],2),t("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowPagination,expression:"isShowPagination"}],staticClass:"pagination"},[t("el-pagination",{attrs:{background:"","popper-class":"custom-pagination","current-page":e.currentPageNum,"pager-count":5,"page-sizes":[20,50,100,200],"page-size":e.pageSizeNum,layout:"total, prev, pager, next, sizes, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:pageSize":function(t){e.pageSizeNum=t},"update:page-size":function(t){e.pageSizeNum=t}}})],1)],2)},a=[],n=function(){var e=this,t=e._self._c;return t("el-table-column",{attrs:{fixed:e.col.fixed,"class-name":e.col.className,width:e.col.width,"min-width":e.col.minWidth,prop:e.col.prop||e.col.name,label:e.col.label||e.col.title,"show-overflow-tooltip":!0,align:e.col.align||e.align,sortable:e.col.sortable||!1,"header-align":e.col.headerAlign||e.headerAlign,filters:e.col.filters,"render-header":e.col.renderHeader,"filter-method":e.col.filterFn}},[e.col.children&&e.col.children.length>0?e._l(e.col.children,(function(e){return t("table-column",{key:e.id,attrs:{col:e}})})):e._e()],2)},i=[],r={name:"tableColumn",data(){return{align:"center",headerAlign:"center"}},props:{col:{type:Object}},created(){},mounted(){}},s=r,c=l(81656),d=(0,c.A)(s,n,i,!1,null,"29f54de4",null),u=d.exports,h={isShowSlotToolBar:{type:Boolean,default:!1},isShowSearchInput:{type:Boolean,default:!0},isShowToolBar:{type:Boolean,default:!0},isShowDefaultToolBar:{type:Boolean,default:!0},total:{type:Number,default:0},isShowPagination:{type:Boolean,default:!0},tableTitle:{type:String,default:""},placeholder:{type:String,default:"请输入"},searchBtnLabel:{type:String,default:"搜索"},tableData:{type:Array,default:()=>[]},operations:{type:Array,default:()=>[]},columns:{type:Array,default:()=>[]},tableBtns:{type:Array,default:()=>[]},border:{type:Boolean,default:!1},isShowFilter:{type:Boolean,default:!0},stripe:{type:Boolean,default:!1},lazy:{type:Boolean,default:!0},load:{type:Function},size:{type:String,default:"small"},showHeader:{type:Boolean,default:!0},highlightCurrentRow:{type:Boolean,default:!0},showSummary:{type:Boolean,default:!1},sumText:{type:String,default:"合计"},getSummaries:{type:Function},sortMethod:{type:Function},spanMethod:{type:Function},showCheckbox:{type:Boolean,default:!0},showIndex:{type:Boolean,default:!0},isCheckboxFixed:{type:Boolean,default:!1},isIndexFixed:{type:Boolean,default:!1},showOverflowTooltip:{type:Boolean,default:!0},slotOperation:{type:Boolean,default:!1},isShowTextBtn:{type:Boolean,default:!0},diyHasCheckBox:{type:Function},diyIndexMethod:{type:Function},diyGetList:{type:Function},renderHeader:{type:Function},pageSize:{type:Number,default:20},currentPage:{type:Number,default:1},operationWidth:{type:String,default:"250px"}},p={name:"index",components:{tableColumn:u},data(){return{currentPageNum:1,pageSizeNum:20,checkList:[],filterCheckList:[],searchValue:"",rowKey:"rowKey",btnColor:{add:"#1b6ef3",edit:"#2abfd9",show:"#0af1f1",remove:"#f9620e",delete:"#f9620e"},typeObj:{add:"primary",remove:"danger",delete:"danger"},operationSvg:{add:"新增",edit:"edit",show:"show",remove:"删除",delete:"删除",import:"import",export:"export"},btnSvg:{add:"add",edit:"edit",show:"show",remove:"remove",delete:"delete",import:"import",export:"export"}}},props:{...h},watch:{tableData:{handler(e){this.$nextTick((()=>{this.$refs.table.doLayout()}))},immediate:!0,deep:!0},columns:{handler(e){e&&e.length>0&&(this.checkList=e.map((e=>e.prop)),this.filterCheckList=this.checkList)},immediate:!0},currentPage:{handler(e){e!==this.currentPageNum&&(this.currentPageNum=e)},immediate:!0},pageSize:{handler(e){e!==this.pageSizeNum&&(this.pageSizeNum=e)},immediate:!0}},computed:{columnsFn(){return(e,t)=>{const l=JSON.parse(JSON.stringify(e));return l.filter((e=>t.some((t=>e.prop===t))))}}},mounted(){},methods:{handleClick(e){this.$emit(e.value)},handleSizeChange(e){this.pageSizeNum=e,this.$emit("size-change",e)},handleCurrentChange(e){this.currentPageNum=e,this.$emit("current-change",e)},hasCheckBox(e,t){return!this.diyHasCheckBox||"function"!==typeof this.diyHasCheckBox||this.diyHasCheckBox(e,t)},indexMethod(e){return this.diyIndexMethod&&"function"===typeof this.diyIndexMethod?this.diyIndexMethod(e):e+1},handleSelect(e,t){this.$emit("select",e,t)},handleSelectAllFn(e){this.$emit("select",e)},handleRowClick(e,t,l){const o={row:e,column:t,event:l};this.$emit("rowClick",o)},handleClickBtn(e,t){this.$emit(e,t)},handleSearch(){this.diyGetList&&"function"===typeof this.diyGetList&&this.diyGetList(this.searchValue)},handleConfirm(){this.filterCheckList=this.checkList},handleReset(){this.checkList=this.columns.map((e=>e.prop)),this.filterCheckList=this.checkList}}},f=p,m=(0,c.A)(f,o,a,!1,null,"5a357dc4",null),y=m.exports}}]);
//# sourceMappingURL=567.ea73ae2f.js.map