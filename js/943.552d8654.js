"use strict";(self["webpackChunkyian"]=self["webpackChunkyian"]||[]).push([[943],{57943:function(e,a,n){n.r(a),n.d(a,{default:function(){return s}});var i=function(){var e=this,a=e._self._c;return a("div",[a("ul",{staticClass:"drawing-panel"},[a("li",{class:["bmap-btn","bmap-marker",{active:"marker"===e.activeTool}],on:{click:function(a){return e.draw("marker")}}}),a("li",{class:["bmap-btn","bmap-polyline",{active:"polyline"===e.activeTool}],on:{click:function(a){return e.draw("polyline")}}}),a("li",{class:["bmap-btn","bmap-rectangle",{active:"rectangle"===e.activeTool}],on:{click:function(a){return e.draw("rectangle")}}}),a("li",{class:["bmap-btn","bmap-polygon",{active:"polygon"===e.activeTool}],on:{click:function(a){return e.draw("polygon")}}}),a("li",{class:["bmap-btn","bmap-circle",{active:"circle"===e.activeTool}],on:{click:function(a){return e.draw("circle")}}})]),a("div",{attrs:{id:"container"}})])},t=[],o=(n(18111),n(61701),{data(){return{map:null,drawingManager:null,activeTool:null,styleOptions:{strokeColor:"#5E87DB",fillColor:"#5E87DB",strokeWeight:2,strokeOpacity:1,fillOpacity:.2},labelOptions:{borderRadius:"2px",background:"#FFFBCC",border:"1px solid #E1E1E1",color:"#703A04",fontSize:"12px",letterSpacing:"0",padding:"5px"}}},mounted(){setTimeout((()=>{"undefined"!==typeof BMapGL?this.initMap():console.error("百度地图API加载失败")}),3e3)},methods:{initMap(){this.map=new BMapGL.Map("container",{enableMapClick:!1}),this.map.centerAndZoom(new BMapGL.Point(116.404,39.915),11),this.map.enableScrollWheelZoom(!0),this.drawingManager=new BMapGLLib.DrawingManager(this.map,{enableCalculate:!1,enableSorption:!0,sorptiondistance:20,circleOptions:this.styleOptions,polylineOptions:this.styleOptions,polygonOptions:this.styleOptions,rectangleOptions:this.styleOptions,labelOptions:this.labelOptions}),console.log("this.drawingManager",this.drawingManager),this.drawingManager.addEventListener("overlaycomplete",(function(e){console.log(e.drawingMode),console.log("getPath2",e.overlay.getPath()),console.log(e.calculate),console.log(e.label)}))},draw(e){console.log("this.drawingManager",this.drawingManager);const a=["marker","polyline","rectangle","polygon","circle"];let n;switch(a.forEach((a=>this.activeTool=a===e?e:null)),e){case"marker":n=window.BMAP_DRAWING_MARKER;break;case"polyline":n=window.BMAP_DRAWING_POLYLINE;break;case"rectangle":n=window.BMAP_DRAWING_RECTANGLE;break;case"polygon":n=window.BMAP_DRAWING_POLYGON;break;case"circle":n=window.BMAP_DRAWING_CIRCLE;break}this.drawingManager._isOpen&&this.drawingManager.getDrawingMode()===n?this.drawingManager.close():(this.drawingManager.setDrawingMode(n),this.drawingManager.open())}}}),l=o,r=n(81656),c=(0,r.A)(l,i,t,!1,null,"809b8272",null),s=c.exports}}]);
//# sourceMappingURL=943.552d8654.js.map