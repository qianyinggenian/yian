{"version":3,"file":"js/791.6fe90d93.js","mappings":"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","sources":["webpack://yian/./node_modules/@amap/amap-jsapi-loader/dist/index.js","webpack://yian/./src/views/mapTest/index6.vue","webpack://yian/src/views/mapTest/index6.vue","webpack://yian/./src/views/mapTest/index6.vue?6939","webpack://yian/./src/views/mapTest/index6.vue?45c9","webpack://yian/./src/common/js/mk.js"],"sourcesContent":["'use strict';(function(m,p){\"object\"===typeof exports&&\"undefined\"!==typeof module?module.exports=p():\"function\"===typeof define&&define.amd?define(p):(m=m||self,m.AMapLoader=p())})(this,function(){function m(a){var b=[];a.AMapUI&&b.push(p(a.AMapUI));a.Loca&&b.push(r(a.Loca));return Promise.all(b)}function p(a){return new Promise(function(h,c){var f=[];if(a.plugins)for(var e=0;e<a.plugins.length;e+=1)-1==d.AMapUI.plugins.indexOf(a.plugins[e])&&f.push(a.plugins[e]);if(g.AMapUI===b.failed)c(\"\\u524d\\u6b21\\u8bf7\\u6c42 AMapUI \\u5931\\u8d25\");\nelse if(g.AMapUI===b.notload){g.AMapUI=b.loading;d.AMapUI.version=a.version||d.AMapUI.version;e=d.AMapUI.version;var l=document.body||document.head,k=document.createElement(\"script\");k.type=\"text/javascript\";k.src=\"https://webapi.amap.com/ui/\"+e+\"/main.js\";k.onerror=function(a){g.AMapUI=b.failed;c(\"\\u8bf7\\u6c42 AMapUI \\u5931\\u8d25\")};k.onload=function(){g.AMapUI=b.loaded;if(f.length)window.AMapUI.loadUI(f,function(){for(var a=0,b=f.length;a<b;a++){var c=f[a].split(\"/\").slice(-1)[0];window.AMapUI[c]=\narguments[a]}for(h();n.AMapUI.length;)n.AMapUI.splice(0,1)[0]()});else for(h();n.AMapUI.length;)n.AMapUI.splice(0,1)[0]()};l.appendChild(k)}else g.AMapUI===b.loaded?a.version&&a.version!==d.AMapUI.version?c(\"\\u4e0d\\u5141\\u8bb8\\u591a\\u4e2a\\u7248\\u672c AMapUI \\u6df7\\u7528\"):f.length?window.AMapUI.loadUI(f,function(){for(var a=0,b=f.length;a<b;a++){var c=f[a].split(\"/\").slice(-1)[0];window.AMapUI[c]=arguments[a]}h()}):h():a.version&&a.version!==d.AMapUI.version?c(\"\\u4e0d\\u5141\\u8bb8\\u591a\\u4e2a\\u7248\\u672c AMapUI \\u6df7\\u7528\"):\nn.AMapUI.push(function(a){a?c(a):f.length?window.AMapUI.loadUI(f,function(){for(var a=0,b=f.length;a<b;a++){var c=f[a].split(\"/\").slice(-1)[0];window.AMapUI[c]=arguments[a]}h()}):h()})})}function r(a){return new Promise(function(h,c){if(g.Loca===b.failed)c(\"\\u524d\\u6b21\\u8bf7\\u6c42 Loca \\u5931\\u8d25\");else if(g.Loca===b.notload){g.Loca=b.loading;d.Loca.version=a.version||d.Loca.version;var f=d.Loca.version,e=d.AMap.version.startsWith(\"2\"),l=f.startsWith(\"2\");if(e&&!l||!e&&l)c(\"JSAPI \\u4e0e Loca \\u7248\\u672c\\u4e0d\\u5bf9\\u5e94\\uff01\\uff01\");\nelse{e=d.key;l=document.body||document.head;var k=document.createElement(\"script\");k.type=\"text/javascript\";k.src=\"https://webapi.amap.com/loca?v=\"+f+\"&key=\"+e;k.onerror=function(a){g.Loca=b.failed;c(\"\\u8bf7\\u6c42 AMapUI \\u5931\\u8d25\")};k.onload=function(){g.Loca=b.loaded;for(h();n.Loca.length;)n.Loca.splice(0,1)[0]()};l.appendChild(k)}}else g.Loca===b.loaded?a.version&&a.version!==d.Loca.version?c(\"\\u4e0d\\u5141\\u8bb8\\u591a\\u4e2a\\u7248\\u672c Loca \\u6df7\\u7528\"):h():a.version&&a.version!==d.Loca.version?\nc(\"\\u4e0d\\u5141\\u8bb8\\u591a\\u4e2a\\u7248\\u672c Loca \\u6df7\\u7528\"):n.Loca.push(function(a){a?c(a):c()})})}if(!window)throw Error(\"AMap JSAPI can only be used in Browser.\");var b;(function(a){a.notload=\"notload\";a.loading=\"loading\";a.loaded=\"loaded\";a.failed=\"failed\"})(b||(b={}));var d={key:\"\",AMap:{version:\"1.4.15\",plugins:[]},AMapUI:{version:\"1.1\",plugins:[]},Loca:{version:\"1.3.2\"}},g={AMap:b.notload,AMapUI:b.notload,Loca:b.notload},n={AMap:[],AMapUI:[],Loca:[]},q=[],t=function(a){\"function\"==typeof a&&\n(g.AMap===b.loaded?a(window.AMap):q.push(a))};return{load:function(a){return new Promise(function(h,c){if(g.AMap==b.failed)c(\"\");else if(g.AMap==b.notload){var f=a.key,e=a.version,l=a.plugins;f?(window.AMap&&\"lbs.amap.com\"!==location.host&&c(\"\\u7981\\u6b62\\u591a\\u79cdAPI\\u52a0\\u8f7d\\u65b9\\u5f0f\\u6df7\\u7528\"),d.key=f,d.AMap.version=e||d.AMap.version,d.AMap.plugins=l||d.AMap.plugins,g.AMap=b.loading,e=document.body||document.head,window.___onAPILoaded=function(d){delete window.___onAPILoaded;if(d)g.AMap=\nb.failed,c(d);else for(g.AMap=b.loaded,m(a).then(function(){h(window.AMap)})[\"catch\"](c);q.length;)q.splice(0,1)[0]()},l=document.createElement(\"script\"),l.type=\"text/javascript\",l.src=\"https://webapi.amap.com/maps?callback=___onAPILoaded&v=\"+d.AMap.version+\"&key=\"+f+\"&plugin=\"+d.AMap.plugins.join(\",\"),l.onerror=function(a){g.AMap=b.failed;c(a)},e.appendChild(l)):c(\"\\u8bf7\\u586b\\u5199key\")}else if(g.AMap==b.loaded)if(a.key&&a.key!==d.key)c(\"\\u591a\\u4e2a\\u4e0d\\u4e00\\u81f4\\u7684 key\");else if(a.version&&\na.version!==d.AMap.version)c(\"\\u4e0d\\u5141\\u8bb8\\u591a\\u4e2a\\u7248\\u672c JSAPI \\u6df7\\u7528\");else{f=[];if(a.plugins)for(e=0;e<a.plugins.length;e+=1)-1==d.AMap.plugins.indexOf(a.plugins[e])&&f.push(a.plugins[e]);if(f.length)window.AMap.plugin(f,function(){m(a).then(function(){h(window.AMap)})[\"catch\"](c)});else m(a).then(function(){h(window.AMap)})[\"catch\"](c)}else if(a.key&&a.key!==d.key)c(\"\\u591a\\u4e2a\\u4e0d\\u4e00\\u81f4\\u7684 key\");else if(a.version&&a.version!==d.AMap.version)c(\"\\u4e0d\\u5141\\u8bb8\\u591a\\u4e2a\\u7248\\u672c JSAPI \\u6df7\\u7528\");\nelse{var k=[];if(a.plugins)for(e=0;e<a.plugins.length;e+=1)-1==d.AMap.plugins.indexOf(a.plugins[e])&&k.push(a.plugins[e]);t(function(){if(k.length)window.AMap.plugin(k,function(){m(a).then(function(){h(window.AMap)})[\"catch\"](c)});else m(a).then(function(){h(window.AMap)})[\"catch\"](c)})}})},reset:function(){delete window.AMap;delete window.AMapUI;delete window.Loca;d={key:\"\",AMap:{version:\"1.4.15\",plugins:[]},AMapUI:{version:\"1.1\",plugins:[]},Loca:{version:\"1.3.2\"}};g={AMap:b.notload,AMapUI:b.notload,\nLoca:b.notload};n={AMap:[],AMapUI:[],Loca:[]}}}})\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"map-wrapper\"},[_c('div',{staticClass:\"tool-bar\"},[_c('el-select',{attrs:{\"filterable\":\"\",\"remote\":\"\",\"reserve-keyword\":\"\",\"clearable\":\"\",\"size\":\"small\",\"disabled\":_vm.readonly,\"placeholder\":\"请输入关键字搜索\",\"remote-method\":_vm.remoteMethod},on:{\"change\":_vm.handleChangeSelect},model:{value:(_vm.formData.locationName),callback:function ($$v) {_vm.$set(_vm.formData, \"locationName\", $$v)},expression:\"formData.locationName\"}},_vm._l((_vm.suggestions),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.id}})}),1)],1),_c('div',{attrs:{\"id\":\"map-container\"}}),_c('div',{staticClass:\"draw-btn\"},[_c('button',{on:{\"click\":_vm.startDrawing}},[_vm._v(\"开始绘制\")]),_c('button',{on:{\"click\":_vm.resetDrawing}},[_vm._v(\"重画\")])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"map-wrapper\">\n    <div class=\"tool-bar\">\n      <el-select\n          v-model=\"formData.locationName\"\n          filterable\n          remote\n          reserve-keyword\n          clearable\n          size=\"small\"\n          :disabled=\"readonly\"\n          placeholder=\"请输入关键字搜索\"\n          :remote-method=\"remoteMethod\"\n          @change=\"handleChangeSelect\"\n      >\n        <el-option\n            v-for=\"item in suggestions\"\n            :key=\"item.id\"\n            :label=\"item.name\"\n            :value=\"item.id\">\n        </el-option>\n      </el-select>\n    </div>\n    <div id=\"map-container\"></div>\n    <div class=\"draw-btn\">\n      <button class=\"\" @click=\"startDrawing\">开始绘制</button>\n      <button class=\"\" @click=\"resetDrawing\">重画</button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport AMapLoader from '@amap/amap-jsapi-loader';\nimport { mk } from '@/common/js/mk';\nlet AMap;\nlet autoComplete;\nexport default {\n  data () {\n    return {\n      formData: {\n        time: null,\n        locationName: '',\n        objectIds: []\n      },\n      readonly: false,\n      suggestions: [],\n      mapCenter: [113.264499, 23.130061],\n      map: null,\n      currentMarker: null,\n      mouseTool: null,\n      editor: null,\n      currentPolygon: null\n    };\n  },\n  async mounted () {\n    await this.initMap();\n  },\n  methods: {\n    async initMap () {\n      try {\n        window._AMapSecurityConfig = {\n          securityJsCode: mk.s\n        };\n        AMap = await AMapLoader.load({\n          key: mk.k, // 请替换有效key\n          version: '2.0',\n          plugins: [\n            'AMap.MouseTool', // 必须插件\n            'AMap.PolyEditor',\n            'AMap.AutoComplete'\n          ]\n        });\n\n        this.map = new AMap.Map('map-container', {\n          viewMode: '3D', // 是否为3D地图模式\n          zoom: 15, // 初始化地图级别\n          center: this.mapCenter, // 初始化地图中心点位置\n          resizeEnable: true // 重要：适配Vue容器\n        });\n        const autoOptions = {\n        // city 限定城市，默认全国\n          city: '全国'\n        };\n        // 实例化AutoComplete\n        autoComplete = new AMap.AutoComplete(autoOptions);\n        this.addMarker(this.mapCenter);\n        console.log('地图初始化完成');\n      } catch (error) {\n        console.error('地图初始化失败:', error);\n      }\n    },\n\n    resetDrawing () {\n      if (this.currentPolygon) {\n        this.map.remove(this.currentPolygon); // 从地图移除\n        this.currentPolygon = null; // 释放内存\n\n        if (this.editor) {\n          this.editor.close(); // 关闭编辑器\n          this.editor = null;\n        }\n        this.startDrawing();\n      }\n    },\n    async startDrawing () {\n      try {\n        // 销毁旧实例\n        if (this.mouseTool) {\n          this.mouseTool.close(true);\n        }\n\n        // const AMap = await AMapLoader.load();\n\n        // 初始化新工具\n        this.mouseTool = new AMap.MouseTool(this.map);\n\n        // 多边形绘制配置\n        this.mouseTool.polygon({\n          strokeColor: '#1890FF',\n          fillColor: '#1890FF',\n          fillOpacity: 0.2,\n          strokeWeight: 3\n        });\n\n        // 监听绘制完成\n        this.mouseTool.on('draw', async (event) => {\n          this.currentPolygon = event.obj;\n          console.log('绘制完成，路径:', event.obj.getPath());\n\n          // 自动进入编辑模式\n          this.editor = new AMap.PolyEditor(this.map, this.currentPolygon);\n          this.editor.open();\n          this.editor.on('adjust', ({ target, lnglat, pixel }) => {\n            console.log('节点调整后路径:', target.getPath().map(p => [p.lng, p.lat]));\n          });\n          this.editor.on('addnode', ({ target, lnglat, pixel }) => {\n            console.log('增加节点调整后路径:', target.getPath().map(p => [p.lng, p.lat]));\n          });\n          // 销毁绘制工具\n          this.mouseTool.close();\n        });\n      } catch (error) {\n        console.error('绘制失败:', error);\n      }\n    },\n    // 添加标记点\n    addMarker (position) {\n      if (this.currentMarker) {\n        this.map.remove(this.currentMarker);\n        this.currentMarker = null;\n      }\n      this.currentMarker = new AMap.Marker({\n        position: position,\n        icon: 'https://webapi.amap.com/theme/v1.3/markers/n/mark_b.png'\n      });\n      this.map.add(this.currentMarker);\n    },\n    /**\n     * @Description 选择地点时触发\n     * @author wangkangzhang\n     * @date 2024/9/26\n     */\n    handleChangeSelect (id) {\n      const result = this.suggestions.find(value => value.id === id);\n      if (result) {\n        this.handleSelect(result);\n      }\n    },\n    handleSelect (item) {\n      const { location, name } = item;\n      console.log(name);\n      // this.resetMap(location);\n      this.setMapCenter(location);\n      this.addMarker(location);\n    },\n    /**\n     * @Description 重置中心点\n     * @author wangkangzhang\n     * @date 2024/9/26\n     */\n    setMapCenter (position) {\n      if (this.map) {\n        this.map.setCenter(position);\n      }\n    },\n    remoteMethod (query) {\n      if (this._timer) {\n        clearTimeout(this._timer);\n      }\n      this._timer = setTimeout(() => {\n        if (query) {\n          this.getSuggestions(query);\n        }\n        this._timer = null;\n      }, 500);\n    },\n    getSuggestions (keyword) {\n      console.log('keyword', keyword);\n      if (autoComplete) {\n        console.log(111111);\n        autoComplete.search(keyword, (status, result) => {\n          console.log('result', result);\n          const { info = '', tips = [] } = result || {};\n          // 搜索成功时，result 即是对应的匹配数据\n          if (info === 'OK') {\n            this.suggestions = tips;\n          }\n        });\n      }\n    }\n  },\n  beforeDestroy () {\n    // 清理资源\n    if (this.mouseTool) this.mouseTool.close(true);\n    if (this.map) this.map.destroy();\n  }\n};\n</script>\n\n<style scoped>\n.map-wrapper {\n  position: relative;\n  width: 100%;\n  height: 600px;\n  .tool-bar {\n    width: 320px;\n    height: 42px;\n    background: #ffffff;\n    position: absolute;\n    top: 32px;\n    left: 32px;\n    z-index: 200;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    padding: 5px;\n    box-sizing: border-box;\n    border-radius: 8px;\n    .el-select {\n      width: 100%;\n    }\n  }\n}\n\n#map-container {\n  width: 100%;\n  height: 100%;\n}\n\n.draw-btn {\n  position: absolute;\n  top: 20px;\n  right: 200px;\n  z-index: 999;\n  padding: 8px 16px;\n  background: #1890FF;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index6.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index6.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index6.vue?vue&type=template&id=185f140a&scoped=true\"\nimport script from \"./index6.vue?vue&type=script&lang=js\"\nexport * from \"./index6.vue?vue&type=script&lang=js\"\nimport style0 from \"./index6.vue?vue&type=style&index=0&id=185f140a&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"185f140a\",\n  null\n  \n)\n\nexport default component.exports","export const mk = {\n  k: '893473ecc9aabccee4b41209a43b1394',\n  s: 'b6d7ec59571b092b7a68d8c1cf93acec'\n};\n"],"names":["m","p","module","exports","this","a","b","AMapUI","push","Loca","r","Promise","all","h","c","f","plugins","e","length","d","indexOf","g","failed","notload","loading","version","l","document","body","head","k","createElement","type","src","onerror","onload","loaded","window","loadUI","split","slice","arguments","n","splice","appendChild","AMap","startsWith","key","Error","q","t","load","location","host","___onAPILoaded","then","join","plugin","reset","render","_vm","_c","_self","staticClass","attrs","readonly","remoteMethod","on","handleChangeSelect","model","value","formData","locationName","callback","$$v","$set","expression","_l","suggestions","item","id","name","startDrawing","_v","resetDrawing","staticRenderFns","autoComplete","data","time","objectIds","mapCenter","map","currentMarker","mouseTool","editor","currentPolygon","mounted","initMap","methods","_AMapSecurityConfig","securityJsCode","mk","s","AMapLoader","Map","viewMode","zoom","center","resizeEnable","autoOptions","city","AutoComplete","addMarker","console","log","error","remove","close","MouseTool","polygon","strokeColor","fillColor","fillOpacity","strokeWeight","event","obj","getPath","PolyEditor","open","target","lnglat","pixel","lng","lat","position","Marker","icon","add","result","find","handleSelect","setMapCenter","setCenter","query","_timer","clearTimeout","setTimeout","getSuggestions","keyword","search","status","info","tips","beforeDestroy","destroy","component"],"sourceRoot":""}